{"version":3,"sources":["webpack:///./src/components/building/BuildingListItem.vue?bd69","webpack:///src/components/building/BuildingListItem.vue","webpack:///./src/components/building/BuildingListItem.vue?beaa","webpack:///./src/components/building/BuildingListItem.vue","webpack:///../../../src/components/VCard/index.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","style","color","invalidAddress","_v","_s","address","model","value","callback","$$v","postCode","expression","staticStyle","administrativeAreas","state","city","street","number","buildingName","$buildingTypes","status","staticClass","coordinates","staticRenderFns","name","props","data","computed","get","editedItem","set","updateBuildingData","val","updateAddressComponents","watch","immediate","handler","selectedBuildingData","localStorage","getItemByName","methods","Object","assign","setItemByName","$emit","mounted","_getBuildingDetails","_id","component","VCard","VCardText","VSelect","VTextField","VCardActions","VCardSubtitle","VCardTitle"],"mappings":"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","file":"js/chunk-59fdea6a.876e123f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-text',[_c('h3',{style:({ color: _vm.invalidAddress ? '#900' : '#09b' })},[_vm._v(\" \"+_vm._s(_vm.address)+\" \")])]),_c('table',[_c('tbody',[_c('tr',[_c('td',[_c('v-text-field',{attrs:{\"label\":\"Postal code\",\"outlined\":\"\"},model:{value:(_vm.postCode),callback:function ($$v) {_vm.postCode=$$v},expression:\"postCode\"}})],1),_c('td',{staticStyle:{\"width\":\"120px\"}},[_c('v-select',{attrs:{\"items\":_vm.administrativeAreas,\"label\":\"State\",\"single-line\":\"\",\"outlined\":\"\"},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}})],1),_c('td',[_c('v-text-field',{attrs:{\"label\":\"Locality\",\"outlined\":\"\"},model:{value:(_vm.city),callback:function ($$v) {_vm.city=$$v},expression:\"city\"}})],1),_c('td',[_c('v-text-field',{attrs:{\"label\":\"Street name\",\"outlined\":\"\"},model:{value:(_vm.street),callback:function ($$v) {_vm.street=$$v},expression:\"street\"}})],1),_c('td',[_c('v-text-field',{attrs:{\"label\":\"Street number\",\"outlined\":\"\"},model:{value:(_vm.number),callback:function ($$v) {_vm.number=$$v},expression:\"number\"}})],1),_c('td',[_c('v-text-field',{attrs:{\"label\":\"Building Name\",\"outlined\":\"\"},model:{value:(_vm.buildingName),callback:function ($$v) {_vm.buildingName=$$v},expression:\"buildingName\"}})],1),_c('td',[_c('v-select',{attrs:{\"items\":_vm.$buildingTypes,\"label\":\"Status\",\"outlined\":\"\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}})],1),_c('td')])])]),_c('v-card',{staticClass:\"mx-auto\",attrs:{\"flat\":\"\",\"max-width\":\"480\"}},[_c('table',{attrs:{\"width\":\"100%\"}},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Lat\")]),_c('th',[_vm._v(\"Lng\")])])]),_c('tbody',[_c('tr',[_c('td',{staticClass:\"text-center\",style:({ color: _vm.invalidAddress ? '#900' : '#09b' })},[_vm._v(\" \"+_vm._s(_vm.coordinates[1])+\" \")]),_c('td',{staticClass:\"text-center\",style:({ color: _vm.invalidAddress ? '#900' : '#09b' })},[_vm._v(\" \"+_vm._s(_vm.coordinates[0])+\" \")])])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card flat>\n    <v-card-text>\n      <h3 :style=\"{ color: invalidAddress ? '#900' : '#09b' }\">\n        {{ address }}\n      </h3>\n    </v-card-text>\n    <table>\n      <tbody>\n        <tr>\n          <td>\n            <v-text-field\n              v-model=\"postCode\"\n              label=\"Postal code\"\n              outlined\n            />\n          </td>\n          <td style=\"width: 120px\">\n            <v-select\n              v-model=\"state\"\n              :items=\"administrativeAreas\"\n              label=\"State\"\n              single-line\n              outlined\n            ></v-select>\n          </td>\n          <td>\n            <v-text-field\n              v-model=\"city\"\n              label=\"Locality\"\n              outlined\n            />\n          </td>\n          <td>\n            <v-text-field\n              v-model=\"street\"\n              label=\"Street name\"\n              outlined\n            />\n          </td>\n          <td>\n            <v-text-field\n              v-model=\"number\"\n              label=\"Street number\"\n              outlined\n            />\n          </td>\n          <td>\n            <v-text-field\n              v-model=\"buildingName\"\n              label=\"Building Name\"\n              outlined\n            />\n          </td>\n          <td>\n            <v-select\n              :items=\"$buildingTypes\"\n              label=\"Status\"\n              v-model=\"status\"\n              outlined\n            />\n          </td>\n          <td>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <v-card flat max-width=\"480\" class=\"mx-auto\">\n      <table width=\"100%\">\n        <thead>\n          <tr>\n            <th>Lat</th>\n            <th>Lng</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td class=\"text-center\" :style=\"{ color: invalidAddress ? '#900' : '#09b' }\">\n              {{ coordinates[1] }}\n            </td>\n            <td class=\"text-center\" :style=\"{ color: invalidAddress ? '#900' : '#09b' }\">\n              {{ coordinates[0] }}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </v-card>\n  </v-card>\n</template>\n\n<script>\n\nexport default {\n  name: 'BuildingListItem',\n\n  props: ['editedItem'],\n\n  data: () => ({\n    administrativeAreas: require('@/config/administrativeAreasAU').default,\n    selectedBuildingData: null,\n    invalidAddress: false\n  }),\n\n  computed: {\n    address: {\n      get () {\n        return this.invalidAddress ? 'Invalid address' : this.editedItem.address\n      },\n      set (val) {\n        this.updateBuildingData('address', val)\n      }\n    },\n    postCode: {\n      get () {\n        return this.editedItem.postCode\n      },\n      set (val) {\n        this.updateAddressComponents('postCode', val)\n      }\n    },\n    state: {\n      get () {\n        return this.editedItem.state\n      },\n      set (val) {\n        this.updateAddressComponents('state', val)\n      }\n    },\n    city: {\n      get () {\n        return this.editedItem.city\n      },\n      set (val) {\n        this.updateAddressComponents('city', val)\n      }\n    },\n    street: {\n      get () {\n        return this.editedItem.street\n      },\n      set (val) {\n        this.updateAddressComponents('street', val)\n      }\n    },\n    number: {\n      get () {\n        return this.editedItem.number\n      },\n      set (val) {\n        this.updateAddressComponents('number', val)\n      }\n    },\n    buildingName: {\n      get () {\n        return this.editedItem.buildingName\n      },\n      set (val) {\n        this.updateBuildingData('buildingName', val)\n      }\n    },\n    status: {\n      get () {\n        return this.editedItem.status\n      },\n      set (val) {\n        this.updateBuildingData('status', val)\n      }\n    },\n    coordinates: {\n      get () {\n        return this.editedItem.coordinates\n      },\n      set (val) {\n        this.updateBuildingData('coordinates', val)\n      }\n    }\n  },\n\n  watch: {\n    'editedItem._id': {\n      immediate: true,\n      handler (val) {\n        this.selectedBuildingData = localStorage.getItemByName('selectedBulding')\n      }\n    }\n  },\n\n  methods: {\n    async updateAddressComponents (propName, propValue) {\n      Object.assign(this.selectedBuildingData.addressComponents, { [propName]: propValue })\n      Object.assign(this.editedItem, { [propName]: propValue })\n      const options = {\n        streetNumber: this.number,\n        streetName: this.street,\n        locality: this.city,\n        state: this.state,\n        postCode: this.postCode\n      }\n      const validationResult = await this._validateAddress(options)\n\n      if (validationResult.error) {\n        this.updateBuildingData('coordinates', ['error', 'error'])\n        this.invalidAddress = true\n        return\n      }\n\n      this.invalidAddress = false\n      this.updateBuildingData('address', validationResult.formattedAddress)\n      this.updateBuildingData('coordinates', validationResult.formattedCoordinates)\n\n      localStorage.setItemByName('selectedBuilding', this.selectedBuildingData)\n      this.$emit('update:editedItem', Object.assign(this.editedItem, { [propName]: propValue }))\n    },\n\n    updateBuildingData (propName, propValue) {\n      Object.assign(this.selectedBuildingData, { [propName]: propValue })\n      localStorage.setItemByName('selectedBuilding', this.selectedBuildingData)\n      this.$emit('update:editedItem', Object.assign(this.editedItem, { [propName]: propValue }))\n    }\n  },\n\n  mounted () {\n    this._getBuildingDetails(this.editedItem._id)\n      .then((response) => {\n        this.selectedBuildingData = response\n        localStorage.setItemByName('selectedBuilding', this.selectedBuildingData)\n      })\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuildingListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuildingListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuildingListItem.vue?vue&type=template&id=261f8456&\"\nimport script from \"./BuildingListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./BuildingListItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCard,VCardText,VSelect,VTextField})\n","import VCard from './VCard'\nimport { createSimpleFunctional } from '../../util/helpers'\n\nconst VCardActions = createSimpleFunctional('v-card__actions')\nconst VCardSubtitle = createSimpleFunctional('v-card__subtitle')\nconst VCardText = createSimpleFunctional('v-card__text')\nconst VCardTitle = createSimpleFunctional('v-card__title')\n\nexport {\n  VCard,\n  VCardActions,\n  VCardSubtitle,\n  VCardText,\n  VCardTitle,\n}\n\nexport default {\n  $_vuetify_subcomponents: {\n    VCard,\n    VCardActions,\n    VCardSubtitle,\n    VCardText,\n    VCardTitle,\n  },\n}\n"],"sourceRoot":""}