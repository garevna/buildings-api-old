(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e974d3b"],{"0fd9":function(e,t,n){"use strict";n("99af"),n("4160"),n("caad"),n("13d5"),n("4ec9"),n("b64b"),n("d3b7"),n("ac1f"),n("2532"),n("3ca3"),n("5319"),n("159b"),n("ddb0");var a=n("ade3"),i=n("5530"),s=(n("4b85"),n("a026")),r=n("d9f7"),o=n("80d2"),l=["sm","md","lg","xl"],d=["start","end","center"];function c(e,t){return l.reduce((function(n,a){return n[e+Object(o["G"])(a)]=t(),n}),{})}var u=function(e){return[].concat(d,["baseline","stretch"]).includes(e)},p=c("align",(function(){return{type:String,default:null,validator:u}})),h=function(e){return[].concat(d,["space-between","space-around"]).includes(e)},g=c("justify",(function(){return{type:String,default:null,validator:h}})),m=function(e){return[].concat(d,["space-between","space-around","stretch"]).includes(e)},f=c("alignContent",(function(){return{type:String,default:null,validator:m}})),b={align:Object.keys(p),justify:Object.keys(g),alignContent:Object.keys(f)},v={align:"align",justify:"justify",alignContent:"align-content"};function y(e,t,n){var a=v[e];if(null!=n){if(t){var i=t.replace(e,"");a+="-".concat(i)}return a+="-".concat(n),a.toLowerCase()}}var k=new Map;t["a"]=s["a"].extend({name:"v-row",functional:!0,props:Object(i["a"])(Object(i["a"])(Object(i["a"])({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:u}},p),{},{justify:{type:String,default:null,validator:h}},g),{},{alignContent:{type:String,default:null,validator:m}},f),render:function(e,t){var n=t.props,i=t.data,s=t.children,o="";for(var l in n)o+=String(n[l]);var d=k.get(o);return d||function(){var e,t;for(t in d=[],b)b[t].forEach((function(e){var a=n[e],i=y(t,e,a);i&&d.push(i)}));d.push((e={"no-gutters":n.noGutters,"row--dense":n.dense},Object(a["a"])(e,"align-".concat(n.align),n.align),Object(a["a"])(e,"justify-".concat(n.justify),n.justify),Object(a["a"])(e,"align-content-".concat(n.alignContent),n.alignContent),e)),k.set(o,d)}(),e(n.tag,Object(r["a"])(i,{staticClass:"row",class:d}),s)}})},"1dd9":function(e,t,n){"use strict";var a=n("bb56"),i=n.n(a);i.a},"1f4f":function(e,t,n){"use strict";n("a9e3");var a=n("5530"),i=(n("8b37"),n("80d2")),s=n("7560"),r=n("58df");t["a"]=Object(r["a"])(s["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(a["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(i["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(e){return e("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"297c":function(e,t,n){"use strict";n("a9e3");var a=n("a026"),i=(n("c7cd"),n("5530")),s=n("ade3"),r=(n("6ece"),n("0789")),o=n("a9ad"),l=n("fe6c"),d=n("a452"),c=n("7560"),u=n("80d2"),p=n("58df"),h=Object(p["a"])(o["a"],Object(l["b"])(["absolute","fixed","top","bottom"]),d["a"],c["a"]),g=h.extend({name:"v-progress-linear",props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,reverse:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data:function(){return{internalLazyValue:this.value||0}},computed:{__cachedBackground:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar:function(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType:function(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer:function(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(u["g"])(this.normalizedValue,"%")}}))},__cachedIndeterminate:function(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream:function(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(u["g"])(100-this.normalizedBuffer,"%")}})):null},backgroundStyle:function(){var e,t=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return e={opacity:t},Object(s["a"])(e,this.isReversed?"right":"left",Object(u["g"])(this.normalizedValue,"%")),Object(s["a"])(e,"width",Object(u["g"])(this.normalizedBuffer-this.normalizedValue,"%")),e},classes:function(){return Object(i["a"])({"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--reverse":this.isReversed,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped},this.themeClasses)},computedTransition:function(){return this.indeterminate?r["c"]:r["e"]},isReversed:function(){return this.$vuetify.rtl!==this.reverse},normalizedBuffer:function(){return this.normalize(this.bufferValue)},normalizedValue:function(){return this.normalize(this.internalLazyValue)},reactive:function(){return Boolean(this.$listeners.change)},styles:function(){var e={};return this.active||(e.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(e.width=Object(u["g"])(this.normalizedBuffer,"%")),e}},methods:{genContent:function(){var e=Object(u["s"])(this,"default",{value:this.internalLazyValue});return e?this.$createElement("div",{staticClass:"v-progress-linear__content"},e):null},genListeners:function(){var e=this.$listeners;return this.reactive&&(e.click=this.onClick),e},genProgressBar:function(e){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:Object(s["a"])({},e,!0)}))},onClick:function(e){if(this.reactive){var t=this.$el.getBoundingClientRect(),n=t.width;this.internalValue=e.offsetX/n*100}},normalize:function(e){return e<0?0:e>100?100:parseFloat(e)}},render:function(e){var t={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:{bottom:this.bottom?0:void 0,height:this.active?Object(u["g"])(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return e("div",t,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}}),m=g;t["a"]=a["a"].extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(m,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},"54c8":function(e,t,n){"use strict";n.r(t),t["default"]={buildingName:"",buildingType:"dwelling=,type=,category=,field=",status:"Footprint",coordinates:[0,0],address:"",addressComponents:{number:"",street:"",city:"",state:"",postCode:"",admin:""},footprint:!1,distanceFromFootprint:0,owner:{name:"",address:"",phone:"",email:"",contactPerson:""},management:{name:"",address:"",phone:"",email:"",contactPerson:""},customerInstallApprovalRequired:!0,inductionRequired:!0,difficultyLevel:{leadInInstallation:0,backboneInstallation:0,customerInstallation:0},infrastructure:{type:"",leadIn:{planned:!1,installed:!1},backbone:{planned:!1,installed:!1},customerAccessCabling:{planned:!1,installed:!1},gPOinMDF:{exist:!1,planned:!1,installed:!1},uPSinMDF:{planned:!1,installed:!1},gPOinRisers:{exist:!1,planned:!1,installed:!1},uPSinRisers:{planned:!1,installed:!1}},files:{design:{},laanInspect:{},laanInstall:{},scope:{},photos:[{}],approoval:{_id:"",link:"",name:""}},numberOfLevels:0,numberOfDwellings:0,avgFloorHeight:0,levels:[{plannedRouter:!1,plannedSplicingBox:!1,plannedSplitter:!1,plannedOFTU:!1,plannedRack:!1,installedRouter:!1,installedSplicingBox:!1,installedSplitter:!1,installedOFTU:!1,installedRack:!1,routerId:""}]}},"5ead":function(e,t,n){},"615b":function(e,t,n){},"62ad":function(e,t,n){"use strict";n("4160"),n("caad"),n("13d5"),n("45fc"),n("4ec9"),n("a9e3"),n("b64b"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("2ca0"),n("159b"),n("ddb0");var a=n("ade3"),i=n("5530"),s=(n("4b85"),n("a026")),r=n("d9f7"),o=n("80d2"),l=["sm","md","lg","xl"],d=function(){return l.reduce((function(e,t){return e[t]={type:[Boolean,String,Number],default:!1},e}),{})}(),c=function(){return l.reduce((function(e,t){return e["offset"+Object(o["G"])(t)]={type:[String,Number],default:null},e}),{})}(),u=function(){return l.reduce((function(e,t){return e["order"+Object(o["G"])(t)]={type:[String,Number],default:null},e}),{})}(),p={col:Object.keys(d),offset:Object.keys(c),order:Object.keys(u)};function h(e,t,n){var a=e;if(null!=n&&!1!==n){if(t){var i=t.replace(e,"");a+="-".concat(i)}return"col"!==e||""!==n&&!0!==n?(a+="-".concat(n),a.toLowerCase()):a.toLowerCase()}}var g=new Map;t["a"]=s["a"].extend({name:"v-col",functional:!0,props:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({cols:{type:[Boolean,String,Number],default:!1}},d),{},{offset:{type:[String,Number],default:null}},c),{},{order:{type:[String,Number],default:null}},u),{},{alignSelf:{type:String,default:null,validator:function(e){return["auto","start","end","center","baseline","stretch"].includes(e)}},tag:{type:String,default:"div"}}),render:function(e,t){var n=t.props,i=t.data,s=t.children,o=(t.parent,"");for(var l in n)o+=String(n[l]);var d=g.get(o);return d||function(){var e,t;for(t in d=[],p)p[t].forEach((function(e){var a=n[e],i=h(t,e,a);i&&d.push(i)}));var i=d.some((function(e){return e.startsWith("col-")}));d.push((e={col:!i||!n.cols},Object(a["a"])(e,"col-".concat(n.cols),n.cols),Object(a["a"])(e,"offset-".concat(n.offset),n.offset),Object(a["a"])(e,"order-".concat(n.order),n.order),Object(a["a"])(e,"align-self-".concat(n.alignSelf),n.alignSelf),e)),g.set(o,d)}(),e(n.tag,Object(r["a"])(i,{class:d}),s)}})},"6ece":function(e,t,n){},"841c":function(e,t,n){"use strict";var a=n("d784"),i=n("825a"),s=n("1d80"),r=n("129f"),o=n("14c3");a("search",1,(function(e,t,n){return[function(t){var n=s(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,n):new RegExp(t)[e](String(n))},function(e){var a=n(t,e,this);if(a.done)return a.value;var s=i(e),l=String(this),d=s.lastIndex;r(d,0)||(s.lastIndex=0);var c=o(s,l);return r(s.lastIndex,d)||(s.lastIndex=d),null===c?-1:c.index}]}))},8547:function(e,t,n){"use strict";var a=n("a026"),i=n("80d2");t["a"]=a["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:i["j"]}}})},"8b37":function(e,t,n){},"99d9":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l}));var a=n("b0af"),i=n("80d2"),s=Object(i["i"])("v-card__actions"),r=Object(i["i"])("v-card__subtitle"),o=Object(i["i"])("v-card__text"),l=Object(i["i"])("v-card__title");a["a"]},ab06:function(e,t,n){"use strict";var a=n("5ead"),i=n.n(a);i.a},b0af:function(e,t,n){"use strict";n("0481"),n("4069"),n("a9e3");var a=n("5530"),i=(n("615b"),n("10d2")),s=n("297c"),r=n("1c87"),o=n("58df");t["a"]=Object(o["a"])(s["a"],r["a"],i["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({"v-card":!0},r["a"].options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},i["a"].options.computed.classes.call(this))},styles:function(){var e=Object(a["a"])({},i["a"].options.computed.styles.call(this));return this.img&&(e.background='url("'.concat(this.img,'") center center / cover no-repeat')),e}},methods:{genProgress:function(){var e=s["a"].options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render:function(e){var t=this.generateRouteLink(),n=t.tag,a=t.data;return a.style=this.styles,this.isClickable&&(a.attrs=a.attrs||{},a.attrs.tabindex=0),e(n,this.setBackgroundColor(this.color,a),[this.genProgress(),this.$slots.default])}})},bb56:function(e,t,n){},c849:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{staticClass:"text-center"},[n("v-col",{attrs:{cols:"12",lg:"7"}},[n("div",{attrs:{id:"dgtek-container-for-map"}})]),e.ready?n("v-col",{attrs:{cols:"12",lg:"5"}},[e.diagnostics?e._e():n("AddressInfo",{attrs:{buildingId:e.selectedBuildingId,search:e.search},on:{"update:buildingId":function(t){e.selectedBuildingId=t},"update:building-id":function(t){e.selectedBuildingId=t}}})],1):e._e()],1)],1)},i=[],s=(n("d81d"),n("96cf"),n("1da1")),r=(n("99af"),n("4160"),n("159b"),n("2909")),o=n("ade3"),l=n("b85c"),d=n("15fd"),c=n("d4ec"),u=n("bee2"),p=[{featureType:"landscape",elementType:"geometry",stylers:[{color:"#dddddd"},{lightness:0}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:0},{weight:.4}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#888888"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#777777"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:100},{color:"#333333"},{lightness:0}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}],h=function(){function e(t){Object(c["a"])(this,e),this.map=null,this.selectedMarkerId=null;var n=t.container,a=Object(d["a"])(t,["container"]);for(var i in n&&1===n.nodeType?this.container=n:(this.container=document.body.appendChild(document.createElement("div")),this.container.id="dgtek-container-for-map"),this.mapContainer=this.container.appendChild(document.createElement("div")),this.storage.constructor.prototype.eventHandler=this.container,this.createMap(),a)this.options[i]=a[i];this.center=this.options.center,this.setMapSize()}return Object(u["a"])(e,[{key:"changeMarkerAddress",value:function(e,t,n){this.selectedMarkerId&&this.selectedMarkerId===e&&(this[this.selectedMarkerId].address=t,this[this.selectedMarkerId].setOptions({title:t,position:n}),this.map.panTo(n))}},{key:"setSearchMarker",value:function(e,t){this.searchMarker?this.searchMarker.setOptions({map:this.map,position:{lat:e[1],lng:e[0]},title:t}):this.searchMarker=new window.google.maps.Marker({map:this.map,position:{lat:e[1],lng:e[0]},scale:1,icon:this.searchMarkerIcon,draggable:!1,raiseOnDrag:!1,title:t||"Search"}),this.map.setCenter({lat:e[1],lng:e[0]})}},{key:"resetSearchMarker",value:function(){console.log("RESET SEARCH MARKER"),this.searchMarker&&this.searchMarker.setOptions({map:null})}},{key:"changeMarkerCoordinates",value:function(e){var t=new window.google.maps.LatLng(e.details.markerCoordinates[1],e.details.markerCoordinates[0]);this[this.selectedMarkerId].setPosition(t)}},{key:"changeMarkerType",value:function(e){console.log(e.details,e.details),this[this.selectedMarkerId].setOptions({icon:this.options.markers[e.details.status]})}},{key:"setMarkerActive",value:function(e){console.log(this),console.log("selectedMarkerId: ",this.selectedMarkerId),console.log(this[this.selectedMarkerId]),this.selectedMarkerId&&(this[this.selectedMarkerId].setOptions({icon:this.activeMarkerIcon,zIndex:9999999}),this.container.dispatchEvent(Object.assign(new Event("marker-selected"),{details:{id:this.selectedMarkerId}})),this.map.panTo(this[this.selectedMarkerId].position))}},{key:"resetSelectedMarker",value:function(){this.selectedMarkerId&&this[this.selectedMarkerId]&&this[this.selectedMarkerId].setOptions({icon:this.options.markers[this[this.selectedMarkerId].status]}),this.container.dispatchEvent(new Event("reset-selected-marker"))}},{key:"mapClickEventHandler",value:function(e){this.map.setCenter(e.latLng),this.selectedMarkerId&&this.resetSelectedMarker(),this.container.dispatchEvent(Object.assign(new Event("empty-field-click"),{details:{coordinates:[e.latLng.lat(),e.latLng.lng()]}}))}},{key:"selectMarkerById",value:function(e){this.selectedMarkerId=e,setTimeout(this.setMarkerActive.bind(this))}},{key:"placeMarker",value:function(e){var t=Object.assign(new window.google.maps.Marker({map:this.map,position:{lat:e.coordinates[1],lng:e.coordinates[0]},icon:this.options.markers[e.status],draggable:!1,raiseOnDrag:!1,title:e.address,status:e.status}),{id:e.id}),n=this.createMarkerClickHandler(e.id,t);return t.addListener("click",n.bind(this)),t}},{key:"createMarkerClickHandler",value:function(e,t){return function(n){t.setOptions({icon:this.activeMarkerIcon}),console.log("MAP: selectedMarkerId: ",this.selectedMarkerId),this.selectedMarkerId&&this.selectedMarkerId!==t.id&&this[this.selectedMarkerId].setOptions({icon:this.options.markers[this[this.selectedMarkerId].status]}),this.selectedMarkerId=t.id,this.container.dispatchEvent(Object.assign(new Event("marker-selected"),{details:{id:e}})),setTimeout(this.setMarkerActive.bind(this))}.bind(this)}},{key:"placeMarkers",value:function(){var e,t=this,n=Object(l["a"])(localStorage.$buildingTypes);try{var a=function(){var n=e.value,a=localStorage.getItemByName(n);a.forEach((function(e){var a=localStorage.getItemByName(e);a.id=e,t[e]=t.placeMarker(a,n)}))};for(n.s();!(e=n.n()).done;)a()}catch(i){n.e(i)}finally{n.f()}}},{key:"removeMarker",value:function(){this.selectedMarkerId&&(this[this.selectedMarkerId].setOptions({map:null}),this.selectedMarkerId=null)}}]),e}();h.prototype.storage=localStorage,h.prototype.options={container:document.body,height:"700px",width:"100%",center:{lat:-37.87013628,lng:144.963058},markerTypes:n("bb70").default.types,markerColors:n("bb70").default.colors,markers:{}},h.prototype.loadScript=n("e99f").default,h.prototype.createMap=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadScript();case 2:if(e.sent){e.next=4;break}return e.abrupt("return",console.error("Error accessing Google Maps API"));case 4:h.prototype.__geo=window.google.maps,h.prototype.Polygon=window.google.maps.Polygon,h.prototype.__places=window.google.maps.places,h.prototype.__geoCoder=new window.google.maps.Geocoder,h.prototype.Autocomplete=window.google.maps.places.Autocomplete,h.prototype.__geoLocation=window.google.maps.geometry.poly.containsLocation,window.google.maps.SymbolPath.MARKER="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z",t=h.prototype.options.markerTypes.map((function(e,t){return Object(o["a"])({},e,{path:window.google.maps.SymbolPath.MARKER,strokeColor:"#fff",strokeWeight:1.2,strokeOpacity:1,fillColor:h.prototype.options.markerColors[t],fillOpacity:1,scale:1})})),h.prototype.options.markers=Object.assign.apply(Object,[{}].concat(Object(r["a"])(t))),h.prototype.activeMarkerIcon={path:"M12,3L2,12H5V20H19V12H22L12,3M12,7.7C14.1,7.7 15.8,9.4 15.8,11.5C15.8,14.5 12,18 12,18C12,18 8.2,14.5 8.2,11.5C8.2,9.4 9.9,7.7 12,7.7M12,10A1.5,1.5 0 0,0 10.5,11.5A1.5,1.5 0 0,0 12,13A1.5,1.5 0 0,0 13.5,11.5A1.5,1.5 0 0,0 12,10Z",strokeColor:"#fff",strokeWeight:1.3,strokeOpacity:1,fillColor:"#f0f",fillOpacity:1,scale:1.2},h.prototype.searchMarkerIcon={path:"M11,2V4.07C7.38,4.53 4.53,7.38 4.07,11H2V13H4.07C4.53,16.62 7.38,19.47 11,19.93V22H13V19.93C16.62,19.47 19.47,16.62 19.93,13H22V11H19.93C19.47,7.38 16.62,4.53 13,4.07V2M11,6.08V8H13V6.09C15.5,6.5 17.5,8.5 17.92,11H16V13H17.91C17.5,15.5 15.5,17.5 13,17.92V16H11V17.91C8.5,17.5 6.5,15.5 6.08,13H8V11H6.09C6.5,8.5 8.5,6.5 11,6.08M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11Z",strokeColor:"#fff",strokeWeight:1,strokeOpacity:1,fillColor:"#900",fillOpacity:1,scale:2},this.map=new window.google.maps.Map(this.mapContainer,{center:this.center,zoom:14,styles:p,disableDefaultUI:!0}),window.google.maps.event.addListener(this.map,"click",this.mapClickEventHandler.bind(this)),this.placeMarkers(),this.container.dispatchEvent(new Event("map-is-ready"));case 19:case"end":return e.stop()}}),e,this)}))),h.prototype.setMapSize=function(){var e=this.container.getBoundingClientRect;this.height=e&&e.height?e.height:"number"===typeof this.options.height?this.options.height:400,this.mapHeight=this.height+"px",this.mapWidth="100%",this.mapContainer.style="\n    height: ".concat(this.mapHeight,";\n    width: ").concat(this.mapWidth,";\n  ")};var g=h,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.ready||e.search?n("v-card",{staticClass:"mt-12"},[e.search?e._e():n("v-select",{staticClass:"mx-4",attrs:{items:e.types,label:"Status",outlined:""},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}}),n("v-card-text",{staticClass:"mx-auto px-auto"},[n("InputWithAutocomplete",{attrs:{address:e.buildingDescription.address,coordinates:e.buildingDescription.coordinates,properties:e.buildingDescription.addressComponents,search:e.search},on:{"update:address":function(t){return e.$set(e.buildingDescription,"address",t)},"update:coordinates":function(t){return e.$set(e.buildingDescription,"coordinates",t)},"update:properties":function(t){return e.$set(e.buildingDescription,"addressComponents",t)}}})],1),n("v-card-text",{staticClass:"text-center"},[n("h4",[e._v("Address components")])]),e.addressComponents?n("AddressDetails",{attrs:{number:e.addressComponents.number,street:e.addressComponents.street,city:e.addressComponents.city,state:e.addressComponents.state,admin:e.addressComponents.admin,postCode:e.addressComponents.postCode}}):e._e(),n("v-card-text",{staticClass:"text-center"},[e.newMarkerButton?n("v-btn",{attrs:{text:""},on:{click:e.createNewMarker}},[e._v(" Add this address ")]):e._e()],1)],1):e._e()},f=[],b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[e.search?n("v-card-text",{staticClass:"text-center"},[n("h3",[e._v("Search")])]):e._e(),n("v-card-text",{staticClass:"text-center"},[n("v-simple-table",{attrs:{dense:"","fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-center"}),n("th",{staticClass:"text-center"},[e._v("Lng")]),n("th",{staticClass:"text-center"},[e._v("Lat")])])]),n("tbody",[n("tr",[n("td",[n("p",[e._v("Coordinates:")])]),n("td",[n("p",[e._v(e._s(e.coordinates?e.coordinates[0]:""))])]),n("td",[n("p",[e._v(e._s(e.coordinates?e.coordinates[1]:""))])])])])]},proxy:!0}])})],1),n("v-card-text",[e.search?n("span",[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}})])]):e._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:e.localAddress,expression:"localAddress"}],staticClass:"input-field",style:{borderColor:e.borderColor},attrs:{id:"autocompleteAddress",placeholder:"Address"},domProps:{value:e.localAddress},on:{input:function(t){t.target.composing||(e.localAddress=t.target.value)}}}),n("v-card-text",[e.address?n("p",{staticStyle:{color:"#09b"}},[e._v(e._s(e.address))]):e._e(),e.message?n("p",{staticStyle:{color:"#f50"}},[e._v(e._s(e.message))]):e._e()])],1)],1)},v=[],y=(n("7db0"),n("b0c0"),n("d3b7"),n("ac1f"),n("841c"),{name:"InputWithAutocomplete",props:["address","coordinates","properties","search"],data:function(){return{borderColor:"#bbb",message:"",map:null}},computed:{localAddress:{get:function(){return this.address},set:function(e){this.$emit("update:address",e)}}},methods:{initAutocomplete:function(){var e=0;return new Promise((function t(n,a){30===e++&&a(new Error("Error accessing Google maps API")),window.google&&document.getElementById("autocompleteAddress")?n({inputElement:document.getElementById("autocompleteAddress"),Autocomplete:window.google.maps.places.Autocomplete}):setTimeout((function(){return t(n,a)}),100)}))},getAddressComponents:function(e){var t=this;if(!e.geometry)return this.borderColor="#900",this.message="Invalid address",{street:"",locality:"",admin1:"",admin2:"",postCode:""};this.message="",this.$emit("update:address",e.formatted_address),this.$emit("update:coordinates",[e.geometry.location.lng(),e.geometry.location.lat()]);var n=[{name:"subnumber",value:"subpremise"},{name:"number",value:"street_number"},{name:"street",value:"route"},{name:"city",value:"locality"},{name:"state",value:"administrative_area_level_1"},{name:"admin",value:"administrative_area_level_2"},{name:"postCode",value:"postal_code"}].map((function(n){return Object(o["a"])({},n.name,t.getInfo(n.value,e.address_components))}));this.$emit("update:properties",Object.assign.apply(Object,[{}].concat(Object(r["a"])(n))))},getInfo:function(e,t){var n=t.find((function(t){return t.types[0]===e}));return n?n.short_name:""},initAddressInputField:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.initAutocomplete();case 3:n=t.sent,a=n.inputElement,i=n.Autocomplete,t.next=12;break;case 8:return t.prev=8,t.t0=t["catch"](0),console.warn(t.t0),t.abrupt("return");case 12:e.autocomplete=new i(a,{componentRestrictions:{country:"au"}}),e.autocomplete.addListener("place_changed",function(e){var t=this.autocomplete.getPlace();this.getAddressComponents(t);var n=t.geometry.location;if(this.$emit("update:coordinates",[n.lng(),n.lat()]),this.search){var a=localStorage.findMarker(t.formatted_address,[n.lng(),n.lat()]);a?(this.map.selectMarkerById(a.id),this.$emit("update:markerId",a.id)):this.map.setSearchMarker([n.lng(),n.lat()],t.formatted_address)}else{if(!this.markerId)return;this.$emit("update:address",this.localAddress),this.$emit("update:coordinates",[n.lng(),n.lat()]);var i=this.getAddressComponents(t);this.$emit("update:properties",i),this.$parent.map.changeMarkerAddress(this.markerId,t.formatted_address,n)}}.bind(e));case 14:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},mounted:function(){setTimeout(this.initAddressInputField.bind(this),1e3),this.map=this.$parent.$parent.$parent.map}}),k=y,C=(n("1dd9"),n("2877")),_=n("6544"),w=n.n(_),I=n("b0af"),M=n("99d9"),O=n("1f4f"),B=Object(C["a"])(k,b,v,!1,null,null,null),S=B.exports;w()(B,{VCard:I["a"],VCardText:M["b"],VSimpleTable:O["a"]});var x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-simple-table",{attrs:{dense:"",dark:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("tbody",[n("tr",[n("td",{staticClass:"text-left"},[n("b",[e._v("Street")])]),n("td",{staticClass:"text-right"},[e._v(e._s(e.number)+" "+e._s(e.street))])]),n("tr",[n("td",{staticClass:"text-left"},[n("b",[e._v("City")])]),n("td",{staticClass:"text-right"},[e._v(e._s(e.city))])]),n("tr",[n("td",{staticClass:"text-left"},[n("b",[e._v("State")])]),n("td",{staticClass:"text-right"},[e._v(e._s(e.state))])]),n("tr",[n("td",{staticClass:"text-left"},[n("b",[e._v("Administrative area")])]),n("td",{staticClass:"text-right"},[e._v(e._s(e.admin))])]),n("tr",[n("td",{staticClass:"text-left"},[n("b",[e._v("Postal code")])]),n("td",{staticClass:"text-right"},[e._v(e._s(e.postCode))])])])]},proxy:!0}])})},j=[],E={name:"AddressDetails",props:["number","street","city","state","postCode","admin"]},A=E,$=Object(C["a"])(A,x,j,!1,null,"46b459f8",null),T=$.exports;w()($,{VSimpleTable:O["a"]});var D={name:"AddressInfo",components:{InputWithAutocomplete:S,AddressDetails:T},props:["buildingId","search"],data:function(){return{newBuilding:n("54c8").default,ready:!1,removeMarker:!1,newMarker:!1,saveChanges:!1,types:localStorage.$buildingTypes,buildingDescription:null,autocomplete:null,message:"",first:"",second:"",third:"",addressDescriptionVisible:!1}},computed:{newMarkerButton:function(){return!this.buildingId&&!!this.buildingDescription.address&&!!this.buildingDescription.coordinates},status:{get:function(){return this.buildingId&&this.buildingDescription?this.buildingDescription.status:null},set:function(e){e&&(this.buildingDescription.status=e,localStorage.updateMarkerType(e),this.$root.$map[this.buildingId].status=e,Object.assign(this.buildingDescription,{status:e}))}},addressComponents:function(){return this.buildingDescription?this.buildingDescription.addressComponents:{address:"",addressComponents:{},coordinates:[]}}},watch:{addressComponents:{deep:!0,handler:function(e){this.buildingDescription&&this.buildingDescription.addressComponents&&Object.assign(this.buildingDescription.addressComponents,e)}},buildingDescription:{deep:!0,handler:function(e){e&&(localStorage.setItemByName("selectedBuilding",e),this.$emit("update:descriptionChanged",!0))}},buildingId:{immediate:!0,handler:function(e,t){this.ready=!1,e&&this.buildingId?(this.buildingDescription=localStorage.getItemByName("selectedBuilding"),this.ready=!0):this.buildingDescription=this.newBuilding}},removeMarker:function(e){e&&this.buildingId&&(this.$parent.map.removeMarker(this.buildingId),localStorage.removeBuilding(this.buildingId),this.removeMarker=!1,this.$emit("update:buildingId",void 0))},saveChanges:function(e){e&&this._saveBuilding(),this.saveChanges=!1}},methods:{createNewMarker:function(){var e=this;if(console.log("================= ADDRESS INFO: NEW MARKER ======================"),console.log("BUILDING DESCRIPTION:\n",this.buildingDescription),!this.buildingDescription)return console.warn("Not available!");this.$root.$map.resetSearchMarker(),this.createNewBuilding().then((function(){console.log(e),console.log("NEW MARKER: ",e.newMarker),e.newMarker=!1}))},createNewBuilding:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,i,s,r,o,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$root.$map,a=n.placeMarker.bind(n),i=n.selectMarkerById.bind(n),s=e.newBuilding,Object.assign(s,e.buildingDescription,{status:e.$buildingTypes.default}),t.next=7,e._createNewBuilding(s);case 7:if(s._id=t.sent,s._id){t.next=10;break}throw new Error("Server error:\nBuilding was not created");case 10:return Object.assign(e.$parent,{selectedBuildingId:s._id,selectedBulding:s}),r=s.address,o=s.coordinates,l=s.status,d=s._id,n[d]=a({address:r,coordinates:o,status:l,id:d}),i(d),t.abrupt("return",s);case 15:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){this.buildingDescription=this.buildingId?localStorage.getItemByName(this.buildingId):{}}},L=D,R=(n("ab06"),n("8336")),V=n("b974"),N=Object(C["a"])(L,m,f,!1,null,null,null),H=N.exports;w()(N,{VBtn:R["a"],VCard:I["a"],VCardText:M["b"],VSelect:V["a"]});var P={name:"Buildings",components:{AddressInfo:H},props:["buildingId"],data:function(){return{container:null,map:null,ready:!1,diagnostics:!1,diagnosticsDone:!1,selectedBuildingId:null,selectedBuilding:null,newMarker:!1,showAddressLevels:!1}},computed:{search:{get:function(){return!this.selectedBuildingId},set:function(e){e&&(this.selectedBuildingId=null,this.map.resetSelectedMarker())}},save:{get:function(){return this.saveData},set:function(e){this.$emit("update:saveData",e)}},mapIsReady:function(){return this.ready&&this.map&&this.Autocomplete}},watch:{search:function(e){e&&(this.selectedBuilding=null,localStorage.setItemByName("selectedBuilding",null),this.$emit("update:buildingSelected",!1))},selectedBuildingId:function(e){console.log("SELECTED BUILDING CHANGED:\n",e),this.$emit("update:buildingId",e)},newMarker:function(e){console.log("BUILDINGS: NEW MARKER!!!"),e&&(this.map.placeMarker(e),this.newMarker=!1)},diagnosticsDone:function(e){e&&(this.diagnostics=!1)}},methods:{readyCallback:function(e){this.ready=!0},selectedBuildingCallback:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.details.id){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,t._getBuildingDetails(e.details.id);case 4:a=n.sent,t.selectedBuildingId=e.details.id,localStorage.setItemByName("selectedBuilding",a),t.$emit("update:buildingSelected",!0);case 8:case"end":return n.stop()}}),n)})))()},resetSelectedBuildingCallback:function(e){this.selectedBuilding=null,localStorage.setItemByName("selectedBuilding",null),this.$emit("update:buildingSelected",!1)},emptySpaceClick:function(e){this.selectedBuildingId=null,this.selectedBuilding=null,localStorage.setItemByName("selectedBuilding",null),this.$emit("update:buildingSelected",!1)},initMap:function(){var e=document.getElementById("dgtek-container-for-map");e?this.container=e:(this.container=document.body.appendChild(document.createElement("div")),this.container.id="dgtek-container-for-map"),this.container.addEventListener("map-is-ready",this.readyCallback.bind(this)),this.container.addEventListener("marker-selected",this.selectedBuildingCallback.bind(this)),this.container.addEventListener("reset-selected-marker",this.resetSelectedBuildingCallback.bind(this)),this.container.addEventListener("empty-field-click",this.emptySpaceClick),this.container.addEventListener("new-marker",this.addNewMarker),this.map=new g({container:this.container,width:window.innerWidth/1.5,height:700,center:{lat:-37.8357725,lng:144.9738764}}),this.$root.$map=this.map,this.container.addEventListener("marker-type-changed",this.map.changeMarkerType.bind(this.map)),this.container.addEventListener("marker-address-changed",this.map.changeMarkerAddress.bind(this.map)),this.container.addEventListener("marker-coordinates-changed",this.map.changeMarkerCoordinates.bind(this.map)),this.ready=!0}},mounted:function(){window.addEventListener("data-ready",this.initMap)}},z=P,W=n("62ad"),F=n("a523"),G=n("0fd9"),q=Object(C["a"])(z,a,i,!1,null,"00aa8388",null);t["default"]=q.exports;w()(q,{VCol:W["a"],VContainer:F["a"],VRow:G["a"]})},e8f2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("99af"),n("4de4"),n("a15b"),n("b64b"),n("2ca0"),n("498a");var a=n("a026");function i(e){return a["a"].extend({name:"v-".concat(e),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(t,n){var a=n.props,i=n.data,s=n.children;i.staticClass="".concat(e," ").concat(i.staticClass||"").trim();var r=i.attrs;if(r){i.attrs={};var o=Object.keys(r).filter((function(e){if("slot"===e)return!1;var t=r[e];return e.startsWith("data-")?(i.attrs[e]=t,!1):t||"string"===typeof t}));o.length&&(i.staticClass+=" ".concat(o.join(" ")))}return a.id&&(i.domProps=i.domProps||{},i.domProps.id=a.id),t(a.tag,i,s)}})}},e99f:function(e,t,n){"use strict";n.r(t);n("d3b7");t["default"]=function(){return new Promise((function(e){var t=document.body.appendChild(document.createElement("script"));t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVql75Qc_Y5oGvrxdcNRNMhBlZEzTdk1o&libraries=geometry,drawing,places",t.onload=e.bind(null,!0),t.onerror=e.bind(null,!1)}))}}}]);
//# sourceMappingURL=chunk-0e974d3b.8c26bc1e.js.map