(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-513ba47f"],{"0fd9":function(e,t,a){"use strict";a("99af"),a("4160"),a("caad"),a("13d5"),a("4ec9"),a("b64b"),a("d3b7"),a("ac1f"),a("2532"),a("3ca3"),a("5319"),a("159b"),a("ddb0");var n=a("ade3"),i=a("5530"),s=(a("4b85"),a("a026")),r=a("d9f7"),o=a("80d2"),l=["sm","md","lg","xl"],d=["start","end","center"];function c(e,t){return l.reduce((function(a,n){return a[e+Object(o["G"])(n)]=t(),a}),{})}var u=function(e){return[].concat(d,["baseline","stretch"]).includes(e)},h=c("align",(function(){return{type:String,default:null,validator:u}})),p=function(e){return[].concat(d,["space-between","space-around"]).includes(e)},g=c("justify",(function(){return{type:String,default:null,validator:p}})),m=function(e){return[].concat(d,["space-between","space-around","stretch"]).includes(e)},f=c("alignContent",(function(){return{type:String,default:null,validator:m}})),v={align:Object.keys(h),justify:Object.keys(g),alignContent:Object.keys(f)},b={align:"align",justify:"justify",alignContent:"align-content"};function y(e,t,a){var n=b[e];if(null!=a){if(t){var i=t.replace(e,"");n+="-".concat(i)}return n+="-".concat(a),n.toLowerCase()}}var k=new Map;t["a"]=s["a"].extend({name:"v-row",functional:!0,props:Object(i["a"])(Object(i["a"])(Object(i["a"])({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:u}},h),{},{justify:{type:String,default:null,validator:p}},g),{},{alignContent:{type:String,default:null,validator:m}},f),render:function(e,t){var a=t.props,i=t.data,s=t.children,o="";for(var l in a)o+=String(a[l]);var d=k.get(o);return d||function(){var e,t;for(t in d=[],v)v[t].forEach((function(e){var n=a[e],i=y(t,e,n);i&&d.push(i)}));d.push((e={"no-gutters":a.noGutters,"row--dense":a.dense},Object(n["a"])(e,"align-".concat(a.align),a.align),Object(n["a"])(e,"justify-".concat(a.justify),a.justify),Object(n["a"])(e,"align-content-".concat(a.alignContent),a.alignContent),e)),k.set(o,d)}(),e(a.tag,Object(r["a"])(i,{staticClass:"row",class:d}),s)}})},"1dd9":function(e,t,a){"use strict";var n=a("bb56"),i=a.n(n);i.a},"1f4f":function(e,t,a){"use strict";a("a9e3");var n=a("5530"),i=(a("8b37"),a("80d2")),s=a("7560"),r=a("58df");t["a"]=Object(r["a"])(s["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(n["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(i["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(e){return e("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"297c":function(e,t,a){"use strict";a("a9e3");var n=a("a026"),i=(a("c7cd"),a("5530")),s=a("ade3"),r=(a("6ece"),a("0789")),o=a("a9ad"),l=a("fe6c"),d=a("a452"),c=a("7560"),u=a("80d2"),h=a("58df"),p=Object(h["a"])(o["a"],Object(l["b"])(["absolute","fixed","top","bottom"]),d["a"],c["a"]),g=p.extend({name:"v-progress-linear",props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,reverse:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data:function(){return{internalLazyValue:this.value||0}},computed:{__cachedBackground:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar:function(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType:function(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer:function(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(u["g"])(this.normalizedValue,"%")}}))},__cachedIndeterminate:function(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream:function(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(u["g"])(100-this.normalizedBuffer,"%")}})):null},backgroundStyle:function(){var e,t=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return e={opacity:t},Object(s["a"])(e,this.isReversed?"right":"left",Object(u["g"])(this.normalizedValue,"%")),Object(s["a"])(e,"width",Object(u["g"])(this.normalizedBuffer-this.normalizedValue,"%")),e},classes:function(){return Object(i["a"])({"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--reverse":this.isReversed,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped},this.themeClasses)},computedTransition:function(){return this.indeterminate?r["c"]:r["e"]},isReversed:function(){return this.$vuetify.rtl!==this.reverse},normalizedBuffer:function(){return this.normalize(this.bufferValue)},normalizedValue:function(){return this.normalize(this.internalLazyValue)},reactive:function(){return Boolean(this.$listeners.change)},styles:function(){var e={};return this.active||(e.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(e.width=Object(u["g"])(this.normalizedBuffer,"%")),e}},methods:{genContent:function(){var e=Object(u["s"])(this,"default",{value:this.internalLazyValue});return e?this.$createElement("div",{staticClass:"v-progress-linear__content"},e):null},genListeners:function(){var e=this.$listeners;return this.reactive&&(e.click=this.onClick),e},genProgressBar:function(e){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:Object(s["a"])({},e,!0)}))},onClick:function(e){if(this.reactive){var t=this.$el.getBoundingClientRect(),a=t.width;this.internalValue=e.offsetX/a*100}},normalize:function(e){return e<0?0:e>100?100:parseFloat(e)}},render:function(e){var t={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:{bottom:this.bottom?0:void 0,height:this.active?Object(u["g"])(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return e("div",t,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}}),m=g;t["a"]=n["a"].extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(m,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},"54c8":function(e,t,a){"use strict";a.r(t),t["default"]={buildingName:"",buildingType:"dwelling=,type=,category=,field=",status:"Footprint",coordinates:[0,0],address:"",addressComponents:{number:"",street:"",city:"",state:"",postCode:"",admin:""},footprint:!1,distanceFromFootprint:0,owner:{name:"",address:"",phone:"",email:"",contactPerson:""},management:{name:"",address:"",phone:"",email:"",contactPerson:""},customerInstallApprovalRequired:!0,inductionRequired:!0,difficultyLevel:{leadInInstallation:0,backboneInstallation:0,customerInstallation:0},infrastructure:{type:"",leadIn:{planned:!1,installed:!1},backbone:{planned:!1,installed:!1},customerAccessCabling:{planned:!1,installed:!1},gPOinMDF:{exist:!1,planned:!1,installed:!1},uPSinMDF:{planned:!1,installed:!1},gPOinRisers:{exist:!1,planned:!1,installed:!1},uPSinRisers:{planned:!1,installed:!1}},files:{design:"",laanInspect:"",laanInstall:"",scope:"",photos:[],approoval:""},numberOfLevels:0,numberOfDwellings:0,avgFloorHeight:0,levels:[{plannedRouter:!1,plannedSplicingBox:!1,plannedSplitter:!1,plannedOFTU:!1,plannedRack:!1,installedRouter:!1,installedSplicingBox:!1,installedSplitter:!1,installedOFTU:!1,installedRack:!1,routerId:""}]}},"5ead":function(e,t,a){},"615b":function(e,t,a){},"62ad":function(e,t,a){"use strict";a("4160"),a("caad"),a("13d5"),a("45fc"),a("4ec9"),a("a9e3"),a("b64b"),a("d3b7"),a("ac1f"),a("3ca3"),a("5319"),a("2ca0"),a("159b"),a("ddb0");var n=a("ade3"),i=a("5530"),s=(a("4b85"),a("a026")),r=a("d9f7"),o=a("80d2"),l=["sm","md","lg","xl"],d=function(){return l.reduce((function(e,t){return e[t]={type:[Boolean,String,Number],default:!1},e}),{})}(),c=function(){return l.reduce((function(e,t){return e["offset"+Object(o["G"])(t)]={type:[String,Number],default:null},e}),{})}(),u=function(){return l.reduce((function(e,t){return e["order"+Object(o["G"])(t)]={type:[String,Number],default:null},e}),{})}(),h={col:Object.keys(d),offset:Object.keys(c),order:Object.keys(u)};function p(e,t,a){var n=e;if(null!=a&&!1!==a){if(t){var i=t.replace(e,"");n+="-".concat(i)}return"col"!==e||""!==a&&!0!==a?(n+="-".concat(a),n.toLowerCase()):n.toLowerCase()}}var g=new Map;t["a"]=s["a"].extend({name:"v-col",functional:!0,props:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({cols:{type:[Boolean,String,Number],default:!1}},d),{},{offset:{type:[String,Number],default:null}},c),{},{order:{type:[String,Number],default:null}},u),{},{alignSelf:{type:String,default:null,validator:function(e){return["auto","start","end","center","baseline","stretch"].includes(e)}},tag:{type:String,default:"div"}}),render:function(e,t){var a=t.props,i=t.data,s=t.children,o=(t.parent,"");for(var l in a)o+=String(a[l]);var d=g.get(o);return d||function(){var e,t;for(t in d=[],h)h[t].forEach((function(e){var n=a[e],i=p(t,e,n);i&&d.push(i)}));var i=d.some((function(e){return e.startsWith("col-")}));d.push((e={col:!i||!a.cols},Object(n["a"])(e,"col-".concat(a.cols),a.cols),Object(n["a"])(e,"offset-".concat(a.offset),a.offset),Object(n["a"])(e,"order-".concat(a.order),a.order),Object(n["a"])(e,"align-self-".concat(a.alignSelf),a.alignSelf),e)),g.set(o,d)}(),e(a.tag,Object(r["a"])(i,{class:d}),s)}})},"6ece":function(e,t,a){},7079:function(e,t,a){"use strict";a.r(t);a("99af");t["default"]={storage:localStorage,options:{container:document.body,height:"700px",width:"100%",center:{lat:-37.87013628,lng:144.963058},markerTypes:a("bb70").default.types,markerColors:a("bb70").default.colors,markers:{}},activeMarkerIcon:{path:"M12,3L2,12H5V20H19V12H22L12,3M12,7.7C14.1,7.7 15.8,9.4 15.8,11.5C15.8,14.5 12,18 12,18C12,18 8.2,14.5 8.2,11.5C8.2,9.4 9.9,7.7 12,7.7M12,10A1.5,1.5 0 0,0 10.5,11.5A1.5,1.5 0 0,0 12,13A1.5,1.5 0 0,0 13.5,11.5A1.5,1.5 0 0,0 12,10Z",strokeColor:"#fff",strokeWeight:1.3,strokeOpacity:1,fillColor:"#f0f",fillOpacity:1,scale:1.2},searchMarkerIcon:{path:"M11,2V4.07C7.38,4.53 4.53,7.38 4.07,11H2V13H4.07C4.53,16.62 7.38,19.47 11,19.93V22H13V19.93C16.62,19.47 19.47,16.62 19.93,13H22V11H19.93C19.47,7.38 16.62,4.53 13,4.07V2M11,6.08V8H13V6.09C15.5,6.5 17.5,8.5 17.92,11H16V13H17.91C17.5,15.5 15.5,17.5 13,17.92V16H11V17.91C8.5,17.5 6.5,15.5 6.08,13H8V11H6.09C6.5,8.5 8.5,6.5 11,6.08M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11Z",strokeColor:"#fff",strokeWeight:1,strokeOpacity:1,fillColor:"#900",fillOpacity:1,scale:2},setMapSize:function(){var e=this.container.getBoundingClientRect;this.height=e&&e.height?e.height:"number"===typeof this.options.height?this.options.height:400,this.mapHeight=this.height+"px",this.mapWidth="100%",this.mapContainer.style="\n      height: ".concat(this.mapHeight,";\n      width: ").concat(this.mapWidth,";\n    ")},loadScript:a("e99f").default}},"841c":function(e,t,a){"use strict";var n=a("d784"),i=a("825a"),s=a("1d80"),r=a("129f"),o=a("14c3");n("search",1,(function(e,t,a){return[function(t){var a=s(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,a):new RegExp(t)[e](String(a))},function(e){var n=a(t,e,this);if(n.done)return n.value;var s=i(e),l=String(this),d=s.lastIndex;r(d,0)||(s.lastIndex=0);var c=o(s,l);return r(s.lastIndex,d)||(s.lastIndex=d),null===c?-1:c.index}]}))},8547:function(e,t,a){"use strict";var n=a("a026"),i=a("80d2");t["a"]=n["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:i["j"]}}})},"8b37":function(e,t,a){},"99d9":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return l}));var n=a("b0af"),i=a("80d2"),s=Object(i["i"])("v-card__actions"),r=Object(i["i"])("v-card__subtitle"),o=Object(i["i"])("v-card__text"),l=Object(i["i"])("v-card__title");n["a"]},ab06:function(e,t,a){"use strict";var n=a("5ead"),i=a.n(n);i.a},b0af:function(e,t,a){"use strict";a("0481"),a("4069"),a("a9e3");var n=a("5530"),i=(a("615b"),a("10d2")),s=a("297c"),r=a("1c87"),o=a("58df");t["a"]=Object(o["a"])(s["a"],r["a"],i["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({"v-card":!0},r["a"].options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},i["a"].options.computed.classes.call(this))},styles:function(){var e=Object(n["a"])({},i["a"].options.computed.styles.call(this));return this.img&&(e.background='url("'.concat(this.img,'") center center / cover no-repeat')),e}},methods:{genProgress:function(){var e=s["a"].options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render:function(e){var t=this.generateRouteLink(),a=t.tag,n=t.data;return n.style=this.styles,this.isClickable&&(n.attrs=n.attrs||{},n.attrs.tabindex=0),e(a,this.setBackgroundColor(this.color,n),[this.genProgress(),this.$slots.default])}})},bb56:function(e,t,a){},c849:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{staticClass:"text-center"},[a("v-col",{attrs:{cols:"12",lg:"7"}},[a("div",{attrs:{id:"dgtek-container-for-map"}})]),e.ready?a("v-col",{attrs:{cols:"12",lg:"5"}},[e.diagnostics?e._e():a("AddressInfo",{attrs:{buildingId:e.selectedBuildingId,search:e.search},on:{"update:buildingId":function(t){e.selectedBuildingId=t},"update:building-id":function(t){e.selectedBuildingId=t}}})],1):e._e()],1)],1)},i=[],s=(a("d81d"),a("96cf"),a("1da1")),r=(a("99af"),a("4160"),a("159b"),a("2909")),o=a("ade3"),l=a("b85c"),d=a("15fd"),c=a("d4ec"),u=a("bee2"),h=[{featureType:"landscape",elementType:"geometry",stylers:[{color:"#dddddd"},{lightness:0}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:0},{weight:.4}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#888888"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#777777"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:100},{color:"#333333"},{lightness:0}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}],p=function(){function e(t){Object(c["a"])(this,e),this.map=null,this.selectedMarkerId=null;var a=t.container,n=Object(d["a"])(t,["container"]);for(var i in a&&1===a.nodeType?this.container=a:(this.container=document.body.appendChild(document.createElement("div")),this.container.id="dgtek-container-for-map"),this.mapContainer=this.container.appendChild(document.createElement("div")),this.storage.constructor.prototype.eventHandler=this.container,this.createMap(),n)this.options[i]=n[i];this.center=this.options.center,this.setMapSize()}return Object(u["a"])(e,[{key:"changeMarkerAddress",value:function(e,t,a){this.selectedMarkerId&&this.selectedMarkerId===e&&(this[this.selectedMarkerId].address=t,this[this.selectedMarkerId].setOptions({title:t,position:a}),this.map.panTo(a))}},{key:"setSearchMarker",value:function(e,t){this.searchMarker?this.searchMarker.setOptions({map:this.map,position:{lat:e[1],lng:e[0]},title:t}):this.searchMarker=new window.google.maps.Marker({map:this.map,position:{lat:e[1],lng:e[0]},scale:1,icon:this.searchMarkerIcon,draggable:!1,raiseOnDrag:!1,title:t||"Search"}),this.map.setCenter({lat:e[1],lng:e[0]})}},{key:"resetSearchMarker",value:function(){this.searchMarker&&this.searchMarker.setOptions({map:null})}},{key:"changeMarkerCoordinates",value:function(e){var t=new window.google.maps.LatLng(e.details.markerCoordinates[1],e.details.markerCoordinates[0]);this[this.selectedMarkerId].setPosition(t)}},{key:"changeMarkerType",value:function(e){this[this.selectedMarkerId].setOptions({icon:this.options.markers[e.details.status]})}},{key:"setMarkerActive",value:function(e){this.selectedMarkerId&&(this[this.selectedMarkerId].setOptions({icon:this.activeMarkerIcon,zIndex:9999999}),this.container.dispatchEvent(Object.assign(new Event("marker-selected"),{details:{id:this.selectedMarkerId}})),this.map.panTo(this[this.selectedMarkerId].position))}},{key:"resetSelectedMarker",value:function(){this.selectedMarkerId&&this[this.selectedMarkerId]&&this[this.selectedMarkerId].setOptions({icon:this.options.markers[this[this.selectedMarkerId].status]}),this.container.dispatchEvent(new Event("reset-selected-marker"))}},{key:"mapClickEventHandler",value:function(e){this.map.setCenter(e.latLng),this.selectedMarkerId&&this.resetSelectedMarker(),this.container.dispatchEvent(Object.assign(new Event("empty-field-click"),{details:{coordinates:[e.latLng.lat(),e.latLng.lng()]}}))}},{key:"selectMarkerById",value:function(e){this.selectedMarkerId=e,setTimeout(this.setMarkerActive.bind(this))}},{key:"placeMarker",value:function(e){var t=Object.assign(new window.google.maps.Marker({map:this.map,position:{lat:e.coordinates[1],lng:e.coordinates[0]},icon:this.options.markers[e.status],draggable:!1,raiseOnDrag:!1,title:e.address,status:e.status}),{id:e.id}),a=this.createMarkerClickHandler(e.id,t);return t.addListener("click",a.bind(this)),t}},{key:"createMarkerClickHandler",value:function(e,t){return function(a){t.setOptions({icon:this.activeMarkerIcon}),this.selectedMarkerId&&this.selectedMarkerId!==t.id&&this[this.selectedMarkerId].setOptions({icon:this.options.markers[this[this.selectedMarkerId].status]}),this.selectedMarkerId=t.id,this.container.dispatchEvent(Object.assign(new Event("marker-selected"),{details:{id:e}})),setTimeout(this.setMarkerActive.bind(this))}.bind(this)}},{key:"placeMarkers",value:function(){var e,t=this,a=Object(l["a"])(localStorage.$buildingTypes);try{var n=function(){var a=e.value,n=localStorage.getItemByName(a);n.forEach((function(e){var n=localStorage.getItemByName(e);n.id=e,t[e]=t.placeMarker(n,a)}))};for(a.s();!(e=a.n()).done;)n()}catch(i){a.e(i)}finally{a.f()}}},{key:"removeMarker",value:function(){this.selectedMarkerId&&(this[this.selectedMarkerId].setOptions({map:null}),this.selectedMarkerId=null)}}]),e}();Object.assign(p.prototype,a("7079").default),p.prototype.createMap=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadScript();case 2:if(e.sent){e.next=4;break}return e.abrupt("return",console.error("Error accessing Google Maps API"));case 4:window.google.maps.SymbolPath.MARKER="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z",Object.assign(p.prototype,{__geo:window.google.maps,Polygon:window.google.maps.Polygon,__places:window.google.maps.places,__geoCoder:new window.google.maps.Geocoder,Autocomplete:window.google.maps.places.Autocomplete,__geoLocation:window.google.maps.geometry.poly.containsLocation}),t=p.prototype.options.markerTypes.map((function(e,t){return Object(o["a"])({},e,{path:window.google.maps.SymbolPath.MARKER,strokeColor:"#fff",strokeWeight:1.2,strokeOpacity:1,fillColor:p.prototype.options.markerColors[t],fillOpacity:1,scale:1})})),p.prototype.options.markers=Object.assign.apply(Object,[{}].concat(Object(r["a"])(t))),this.map=new window.google.maps.Map(this.mapContainer,{center:this.center,zoom:14,styles:h,disableDefaultUI:!0}),window.google.maps.event.addListener(this.map,"click",this.mapClickEventHandler.bind(this)),this.placeMarkers(),this.container.dispatchEvent(new Event("map-is-ready"));case 12:case"end":return e.stop()}}),e,this)})));var g=p,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.ready||e.search?a("v-card",{staticClass:"mt-12"},[e.search?e._e():a("v-select",{staticClass:"mx-4",attrs:{items:e.types,label:"Status",outlined:""},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}}),a("v-card-text",{staticClass:"mx-auto px-auto"},[a("InputWithAutocomplete",{attrs:{address:e.buildingDescription.address,coordinates:e.buildingDescription.coordinates,properties:e.buildingDescription.addressComponents,search:e.search},on:{"update:address":function(t){return e.$set(e.buildingDescription,"address",t)},"update:coordinates":function(t){return e.$set(e.buildingDescription,"coordinates",t)},"update:properties":function(t){return e.$set(e.buildingDescription,"addressComponents",t)}}})],1),a("v-card-text",{staticClass:"text-center"},[a("h4",[e._v("Address components")])]),e.addressComponents?a("AddressDetails",{attrs:{number:e.addressComponents.number,street:e.addressComponents.street,city:e.addressComponents.city,state:e.addressComponents.state,admin:e.addressComponents.admin,postCode:e.addressComponents.postCode}}):e._e(),a("v-card-text",{staticClass:"text-center"},[e.newMarkerButton?a("v-btn",{attrs:{text:""},on:{click:e.createNewMarker}},[e._v(" Add this address ")]):e._e()],1)],1):e._e()},f=[],v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:""}},[e.search?a("v-card-text",{staticClass:"text-center"},[a("h3",[e._v("Search")])]):e._e(),a("v-card-text",{staticClass:"text-center"},[a("v-simple-table",{attrs:{dense:"","fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-center"}),a("th",{staticClass:"text-center"},[e._v("Lng")]),a("th",{staticClass:"text-center"},[e._v("Lat")])])]),a("tbody",[a("tr",[a("td",[a("p",[e._v("Coordinates:")])]),a("td",[a("p",[e._v(e._s(e.coordinates?e.coordinates[0]:""))])]),a("td",[a("p",[e._v(e._s(e.coordinates?e.coordinates[1]:""))])])])])]},proxy:!0}])})],1),a("v-card-text",[e.search?a("span",[a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}})])]):e._e(),a("input",{directives:[{name:"model",rawName:"v-model",value:e.localAddress,expression:"localAddress"}],staticClass:"input-field",style:{borderColor:e.borderColor},attrs:{id:"autocompleteAddress",placeholder:"Address"},domProps:{value:e.localAddress},on:{input:function(t){t.target.composing||(e.localAddress=t.target.value)}}}),a("v-card-text",[e.address?a("p",{staticStyle:{color:"#09b"}},[e._v(e._s(e.address))]):e._e(),e.message?a("p",{staticStyle:{color:"#f50"}},[e._v(e._s(e.message))]):e._e()])],1)],1)},b=[],y=(a("7db0"),a("b0c0"),a("d3b7"),a("ac1f"),a("841c"),{name:"InputWithAutocomplete",props:["address","coordinates","properties","search"],data:function(){return{borderColor:"#bbb",message:"",map:null}},computed:{localAddress:{get:function(){return this.address},set:function(e){this.$emit("update:address",e)}}},methods:{initAutocomplete:function(){var e=0;return new Promise((function t(a,n){30===e++&&n(new Error("Error accessing Google maps API")),window.google&&document.getElementById("autocompleteAddress")?a({inputElement:document.getElementById("autocompleteAddress"),Autocomplete:window.google.maps.places.Autocomplete}):setTimeout((function(){return t(a,n)}),100)}))},getAddressComponents:function(e){var t=this;if(!e.geometry)return this.borderColor="#900",this.message="Invalid address",{street:"",locality:"",admin1:"",admin2:"",postCode:""};this.message="",this.$emit("update:address",e.formatted_address),this.$emit("update:coordinates",[e.geometry.location.lng(),e.geometry.location.lat()]);var a=[{name:"subnumber",value:"subpremise"},{name:"number",value:"street_number"},{name:"street",value:"route"},{name:"city",value:"locality"},{name:"state",value:"administrative_area_level_1"},{name:"admin",value:"administrative_area_level_2"},{name:"postCode",value:"postal_code"}].map((function(a){return Object(o["a"])({},a.name,t.getInfo(a.value,e.address_components))}));this.$emit("update:properties",Object.assign.apply(Object,[{}].concat(Object(r["a"])(a))))},getInfo:function(e,t){var a=t.find((function(t){return t.types[0]===e}));return a?a.short_name:""},initAddressInputField:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.initAutocomplete();case 3:a=t.sent,n=a.inputElement,i=a.Autocomplete,t.next=12;break;case 8:return t.prev=8,t.t0=t["catch"](0),console.warn(t.t0),t.abrupt("return");case 12:e.autocomplete=new i(n,{componentRestrictions:{country:"au"}}),e.autocomplete.addListener("place_changed",function(e){var t=this.autocomplete.getPlace();this.getAddressComponents(t);var a=t.geometry.location;if(this.$emit("update:coordinates",[a.lng(),a.lat()]),this.search){var n=localStorage.findMarker(t.formatted_address,[a.lng(),a.lat()]);n?(this.map.selectMarkerById(n.id),this.$emit("update:markerId",n.id)):this.map.setSearchMarker([a.lng(),a.lat()],t.formatted_address)}else{if(!this.markerId)return;this.$emit("update:address",this.localAddress),this.$emit("update:coordinates",[a.lng(),a.lat()]);var i=this.getAddressComponents(t);this.$emit("update:properties",i),this.$parent.map.changeMarkerAddress(this.markerId,t.formatted_address,a)}}.bind(e));case 14:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},mounted:function(){setTimeout(this.initAddressInputField.bind(this),1e3),this.map=this.$parent.$parent.$parent.map}}),k=y,C=(a("1dd9"),a("2877")),_=a("6544"),w=a.n(_),M=a("b0af"),I=a("99d9"),O=a("1f4f"),B=Object(C["a"])(k,v,b,!1,null,null,null),S=B.exports;w()(B,{VCard:M["a"],VCardText:I["b"],VSimpleTable:O["a"]});var x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-simple-table",{attrs:{dense:"",dark:""},scopedSlots:e._u([{key:"default",fn:function(){return[a("tbody",[a("tr",[a("td",{staticClass:"text-left"},[a("b",[e._v("Street")])]),a("td",{staticClass:"text-right"},[e._v(e._s(e.number)+" "+e._s(e.street))])]),a("tr",[a("td",{staticClass:"text-left"},[a("b",[e._v("City")])]),a("td",{staticClass:"text-right"},[e._v(e._s(e.city))])]),a("tr",[a("td",{staticClass:"text-left"},[a("b",[e._v("State")])]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state))])]),a("tr",[a("td",{staticClass:"text-left"},[a("b",[e._v("Administrative area")])]),a("td",{staticClass:"text-right"},[e._v(e._s(e.admin))])]),a("tr",[a("td",{staticClass:"text-left"},[a("b",[e._v("Postal code")])]),a("td",{staticClass:"text-right"},[e._v(e._s(e.postCode))])])])]},proxy:!0}])})},j=[],$={name:"AddressDetails",props:["number","street","city","state","postCode","admin"]},A=$,E=Object(C["a"])(A,x,j,!1,null,"46b459f8",null),T=E.exports;w()(E,{VSimpleTable:O["a"]});var V={name:"AddressInfo",components:{InputWithAutocomplete:S,AddressDetails:T},props:["buildingId","search"],data:function(){return{newBuilding:a("54c8").default,ready:!1,removeMarker:!1,newMarker:!1,saveChanges:!1,types:localStorage.$buildingTypes,buildingDescription:null,autocomplete:null,message:"",first:"",second:"",third:"",addressDescriptionVisible:!1}},computed:{newMarkerButton:function(){return!this.buildingId&&!!this.buildingDescription.address&&!!this.buildingDescription.coordinates},status:{get:function(){return this.buildingId&&this.buildingDescription?this.buildingDescription.status:null},set:function(e){e&&(this.buildingDescription.status=e,localStorage.updateMarkerType(e),this.$root.$map[this.buildingId].status=e,Object.assign(this.buildingDescription,{status:e}))}},addressComponents:function(){return this.buildingDescription?this.buildingDescription.addressComponents:{address:"",addressComponents:{},coordinates:[]}}},watch:{addressComponents:{deep:!0,handler:function(e){this.buildingDescription&&this.buildingDescription.addressComponents&&Object.assign(this.buildingDescription.addressComponents,e)}},buildingDescription:{deep:!0,handler:function(e){e&&(localStorage.setItemByName("selectedBuilding",e),this.$emit("update:descriptionChanged",!0))}},buildingId:{immediate:!0,handler:function(e,t){this.ready=!1,e&&this.buildingId?(this.buildingDescription=localStorage.getItemByName("selectedBuilding"),this.ready=!0):this.buildingDescription=this.newBuilding}},removeMarker:function(e){e&&this.buildingId&&(this.$parent.map.removeMarker(this.buildingId),localStorage.removeBuilding(this.buildingId),this.removeMarker=!1,this.$emit("update:buildingId",void 0))},saveChanges:function(e){if(e){var t=this._saveBuilding();t.error?this.$root.$emit("error-event",{type:"Data save error",message:"Error saving building' data"}):this.$root.$emit("message-event",{type:"Success",message:"Building data saved"})}this.saveChanges=!1}},methods:{createNewMarker:function(){var e=this;if(!this.buildingDescription)return console.warn("Not available!");this.$root.$map.resetSearchMarker(),this.createNewBuilding().then((function(){e.newMarker=!1}))},createNewBuilding:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,i,s,r,o,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$root.$map,n=a.placeMarker.bind(a),i=a.selectMarkerById.bind(a),s=e.newBuilding,Object.assign(s,e.buildingDescription,{status:e.$buildingTypes.default}),t.next=7,e._createNewBuilding(s);case 7:if(s._id=t.sent,s._id){t.next=10;break}throw new Error("Server error:\nBuilding was not created");case 10:return Object.assign(e.$parent,{selectedBuildingId:s._id,selectedBulding:s}),r=s.address,o=s.coordinates,l=s.status,d=s._id,a[d]=n({address:r,coordinates:o,status:l,id:d}),i(d),t.abrupt("return",s);case 15:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){this.buildingDescription=this.buildingId?localStorage.getItemByName(this.buildingId):{}}},D=V,L=(a("ab06"),a("8336")),H=a("b974"),N=Object(C["a"])(D,m,f,!1,null,null,null),R=N.exports;w()(N,{VBtn:L["a"],VCard:M["a"],VCardText:I["b"],VSelect:H["a"]});var P={name:"Buildings",components:{AddressInfo:R},props:["buildingId"],data:function(){return{container:null,map:null,ready:!1,diagnostics:!1,diagnosticsDone:!1,selectedBuildingId:null,selectedBuilding:null,newMarker:!1,showAddressLevels:!1}},computed:{search:{get:function(){return!this.selectedBuildingId},set:function(e){e&&(this.selectedBuildingId=null,this.map.resetSelectedMarker())}},save:{get:function(){return this.saveData},set:function(e){this.$emit("update:saveData",e)}},mapIsReady:function(){return this.ready&&this.map&&this.Autocomplete}},watch:{search:function(e){e&&(this.selectedBuilding=null,localStorage.setItemByName("selectedBuilding",null),this.$emit("update:buildingSelected",!1))},selectedBuildingId:function(e){this.$emit("update:buildingId",e)},newMarker:function(e){e&&(this.map.placeMarker(e),this.newMarker=!1)},diagnosticsDone:function(e){e&&(this.diagnostics=!1)}},methods:{readyCallback:function(e){this.ready=!0},selectedBuildingCallback:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.details.id){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,t._getBuildingDetails(e.details.id);case 4:n=a.sent,t.selectedBuildingId=e.details.id,localStorage.setItemByName("selectedBuilding",n),t.$emit("update:buildingSelected",!0);case 8:case"end":return a.stop()}}),a)})))()},resetSelectedBuildingCallback:function(e){this.selectedBuilding=null,localStorage.setItemByName("selectedBuilding",null),this.$emit("update:buildingSelected",!1)},emptySpaceClick:function(e){this.selectedBuildingId=null,this.selectedBuilding=null,localStorage.setItemByName("selectedBuilding",null),this.$emit("update:buildingSelected",!1)},initMap:function(){var e=document.getElementById("dgtek-container-for-map");e?this.container=e:(this.container=document.body.appendChild(document.createElement("div")),this.container.id="dgtek-container-for-map"),this.container.addEventListener("map-is-ready",this.readyCallback.bind(this)),this.container.addEventListener("marker-selected",this.selectedBuildingCallback.bind(this)),this.container.addEventListener("reset-selected-marker",this.resetSelectedBuildingCallback.bind(this)),this.container.addEventListener("empty-field-click",this.emptySpaceClick),this.container.addEventListener("new-marker",this.addNewMarker),this.map=new g({container:this.container,width:window.innerWidth/1.5,height:700,center:{lat:-37.8357725,lng:144.9738764}}),this.$root.$map=this.map,this.container.addEventListener("marker-type-changed",this.map.changeMarkerType.bind(this.map)),this.container.addEventListener("marker-address-changed",this.map.changeMarkerAddress.bind(this.map)),this.container.addEventListener("marker-coordinates-changed",this.map.changeMarkerCoordinates.bind(this.map)),this.ready=!0}},mounted:function(){window.addEventListener("data-ready",this.initMap)}},z=P,F=a("62ad"),W=a("a523"),G=a("0fd9"),q=Object(C["a"])(z,n,i,!1,null,"3522a89e",null);t["default"]=q.exports;w()(q,{VCol:F["a"],VContainer:W["a"],VRow:G["a"]})},e8f2:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("99af"),a("4de4"),a("a15b"),a("b64b"),a("2ca0"),a("498a");var n=a("a026");function i(e){return n["a"].extend({name:"v-".concat(e),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(t,a){var n=a.props,i=a.data,s=a.children;i.staticClass="".concat(e," ").concat(i.staticClass||"").trim();var r=i.attrs;if(r){i.attrs={};var o=Object.keys(r).filter((function(e){if("slot"===e)return!1;var t=r[e];return e.startsWith("data-")?(i.attrs[e]=t,!1):t||"string"===typeof t}));o.length&&(i.staticClass+=" ".concat(o.join(" ")))}return n.id&&(i.domProps=i.domProps||{},i.domProps.id=n.id),t(n.tag,i,s)}})}},e99f:function(e,t,a){"use strict";a.r(t);a("d3b7");t["default"]=function(){return new Promise((function(e){var t=document.body.appendChild(document.createElement("script"));t.src="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyBVql75Qc_Y5oGvrxdcNRNMhBlZEzTdk1o","&libraries=geometry,drawing,places"),t.onload=e.bind(null,!0),t.onerror=e.bind(null,!1)}))}}}]);
//# sourceMappingURL=chunk-513ba47f.87cc1831.js.map