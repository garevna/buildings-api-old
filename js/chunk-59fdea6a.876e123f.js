(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59fdea6a"],{9495:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{attrs:{flat:""}},[i("v-card-text",[i("h3",{style:{color:t.invalidAddress?"#900":"#09b"}},[t._v(" "+t._s(t.address)+" ")])]),i("table",[i("tbody",[i("tr",[i("td",[i("v-text-field",{attrs:{label:"Postal code",outlined:""},model:{value:t.postCode,callback:function(e){t.postCode=e},expression:"postCode"}})],1),i("td",{staticStyle:{width:"120px"}},[i("v-select",{attrs:{items:t.administrativeAreas,label:"State","single-line":"",outlined:""},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1),i("td",[i("v-text-field",{attrs:{label:"Locality",outlined:""},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1),i("td",[i("v-text-field",{attrs:{label:"Street name",outlined:""},model:{value:t.street,callback:function(e){t.street=e},expression:"street"}})],1),i("td",[i("v-text-field",{attrs:{label:"Street number",outlined:""},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),i("td",[i("v-text-field",{attrs:{label:"Building Name",outlined:""},model:{value:t.buildingName,callback:function(e){t.buildingName=e},expression:"buildingName"}})],1),i("td",[i("v-select",{attrs:{items:t.$buildingTypes,label:"Status",outlined:""},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1),i("td")])])]),i("v-card",{staticClass:"mx-auto",attrs:{flat:"","max-width":"480"}},[i("table",{attrs:{width:"100%"}},[i("thead",[i("tr",[i("th",[t._v("Lat")]),i("th",[t._v("Lng")])])]),i("tbody",[i("tr",[i("td",{staticClass:"text-center",style:{color:t.invalidAddress?"#900":"#09b"}},[t._v(" "+t._s(t.coordinates[1])+" ")]),i("td",{staticClass:"text-center",style:{color:t.invalidAddress?"#900":"#09b"}},[t._v(" "+t._s(t.coordinates[0])+" ")])])])])])],1)},s=[],d=i("ade3"),n=(i("96cf"),i("1da1")),r={name:"BuildingListItem",props:["editedItem"],data:function(){return{administrativeAreas:i("89e9").default,selectedBuildingData:null,invalidAddress:!1}},computed:{address:{get:function(){return this.invalidAddress?"Invalid address":this.editedItem.address},set:function(t){this.updateBuildingData("address",t)}},postCode:{get:function(){return this.editedItem.postCode},set:function(t){this.updateAddressComponents("postCode",t)}},state:{get:function(){return this.editedItem.state},set:function(t){this.updateAddressComponents("state",t)}},city:{get:function(){return this.editedItem.city},set:function(t){this.updateAddressComponents("city",t)}},street:{get:function(){return this.editedItem.street},set:function(t){this.updateAddressComponents("street",t)}},number:{get:function(){return this.editedItem.number},set:function(t){this.updateAddressComponents("number",t)}},buildingName:{get:function(){return this.editedItem.buildingName},set:function(t){this.updateBuildingData("buildingName",t)}},status:{get:function(){return this.editedItem.status},set:function(t){this.updateBuildingData("status",t)}},coordinates:{get:function(){return this.editedItem.coordinates},set:function(t){this.updateBuildingData("coordinates",t)}}},watch:{"editedItem._id":{immediate:!0,handler:function(t){this.selectedBuildingData=localStorage.getItemByName("selectedBulding")}}},methods:{updateAddressComponents:function(t,e){var i=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return Object.assign(i.selectedBuildingData.addressComponents,Object(d["a"])({},t,e)),Object.assign(i.editedItem,Object(d["a"])({},t,e)),s={streetNumber:i.number,streetName:i.street,locality:i.city,state:i.state,postCode:i.postCode},a.next=5,i._validateAddress(s);case 5:if(n=a.sent,!n.error){a.next=10;break}return i.updateBuildingData("coordinates",["error","error"]),i.invalidAddress=!0,a.abrupt("return");case 10:i.invalidAddress=!1,i.updateBuildingData("address",n.formattedAddress),i.updateBuildingData("coordinates",n.formattedCoordinates),localStorage.setItemByName("selectedBuilding",i.selectedBuildingData),i.$emit("update:editedItem",Object.assign(i.editedItem,Object(d["a"])({},t,e)));case 15:case"end":return a.stop()}}),a)})))()},updateBuildingData:function(t,e){Object.assign(this.selectedBuildingData,Object(d["a"])({},t,e)),localStorage.setItemByName("selectedBuilding",this.selectedBuildingData),this.$emit("update:editedItem",Object.assign(this.editedItem,Object(d["a"])({},t,e)))}},mounted:function(){var t=this;this._getBuildingDetails(this.editedItem._id).then((function(e){t.selectedBuildingData=e,localStorage.setItemByName("selectedBuilding",t.selectedBuildingData)}))}},l=r,u=i("2877"),o=i("6544"),c=i.n(o),m=i("b0af"),b=i("99d9"),f=i("b974"),g=i("8654"),p=Object(u["a"])(l,a,s,!1,null,null,null);e["default"]=p.exports;c()(p,{VCard:m["a"],VCardText:b["b"],VSelect:f["a"],VTextField:g["a"]})},"99d9":function(t,e,i){"use strict";i.d(e,"a",(function(){return d})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return l}));var a=i("b0af"),s=i("80d2"),d=Object(s["i"])("v-card__actions"),n=Object(s["i"])("v-card__subtitle"),r=Object(s["i"])("v-card__text"),l=Object(s["i"])("v-card__title");a["a"]}}]);
//# sourceMappingURL=chunk-59fdea6a.876e123f.js.map