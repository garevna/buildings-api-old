(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8b02d28a"],{"0396":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{fluid:""}},[i("v-card",{staticClass:"transparent mx-auto mb-10 pb-12",attrs:{flat:"","max-width":"1440"}},[i("v-data-table",{staticClass:"elevation-0 pa-8",attrs:{headers:e.headers,options:e.options,items:e.items,"item-key":"_id","single-expand":!0,expanded:e.expanded,"calculate-widths":"","multi-sort":"","show-expand":"",dense:""},on:{"update:options":function(t){e.options=t},"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[i("h5",[e._v(" "+e._s(e.expandedItemName)+" ")])]),i("v-spacer"),i("v-btn",{staticClass:"mb-2",attrs:{color:"#09b",text:""},on:{click:function(t){e.createNewBuilding=!0}}},[e._v(" New Building ")]),i("NewBuildingListItem",{attrs:{opened:e.createNewBuilding,save:e.updateListOfBuildings},on:{"update:opened":function(t){e.createNewBuilding=t},"update:save":function(t){e.updateListOfBuildings=t}}})],1)]},proxy:!0},{key:"item.connect",fn:function(t){var n=t.item;return[i("v-icon",{staticClass:"mr-4",attrs:{color:e.getColor(n.status)}},[e._v(e._s(e.getIcon(n.status)))])]}},{key:"item.actions",fn:function(t){var n=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",color:e.getIconColorForSaveButton(n)},on:{click:function(t){return e.saveItem(n)}}},[e._v(" $save ")]),i("v-icon",{attrs:{small:"",color:"#900"},on:{click:function(t){return e.deleteItem(n)}}},[e._v(" $delete ")])]}},{key:"body.append",fn:function(){return[i("tr",{staticStyle:{background:"#eaeaea","font-size":"12px!important"}},[i("td",{attrs:{width:"160"}},[i("v-select",{attrs:{items:e.administrativeAreas,hint:"State","persistent-hint":"","single-line":"",chips:"","deletable-chips":""},model:{value:e.stateSearch,callback:function(t){e.stateSearch=t},expression:"stateSearch"}})],1),i("td",{attrs:{width:"180"}},[i("v-text-field",{attrs:{hint:"Postal Code","persistent-hint":"","append-icon":"mdi-magnify"},model:{value:e.postcodeSearch,callback:function(t){e.postcodeSearch=t},expression:"postcodeSearch"}})],1),i("td",{attrs:{width:"280"}},[i("v-text-field",{attrs:{hint:"Locality","persistent-hint":"","append-icon":"mdi-magnify"},model:{value:e.localitySearch,callback:function(t){e.localitySearch=t},expression:"localitySearch"}})],1),i("td",[i("v-text-field",{attrs:{hint:"Street Name","persistent-hint":"","append-icon":"mdi-magnify"},model:{value:e.streetSearch,callback:function(t){e.streetSearch=t},expression:"streetSearch"}})],1),i("td"),i("td"),i("td"),i("td")])]},proxy:!0},{key:"expanded-item",fn:function(t){var n=t.headers,a=t.item;return[i("td",{staticClass:"pa-10",attrs:{colspan:n.length}},[i("BuildingListItem",{attrs:{editedItem:a,buildingId:e.buildingId},on:{"update:editedItem":function(e){a=e},"update:edited-item":function(e){a=e},"update:buildingId":function(t){e.buildingId=t},"update:building-id":function(t){e.buildingId=t}}})],1)]}}])}),i("Legend")],1),i("PopupDelete",{attrs:{opened:e.dialogDelete,delete:e.deleteConfirmed},on:{"update:opened":function(t){e.dialogDelete=t},"update:delete":function(t){e.deleteConfirmed=t}}})],1)},a=[],s=(i("99af"),i("4160"),i("c975"),i("d81d"),i("a434"),i("d3b7"),i("159b"),i("96cf"),i("1da1")),r={name:"ListOfBuildings",components:{PopupDelete:function(){return i.e("chunk-dfe91464").then(i.bind(null,"eb5b"))},NewBuildingListItem:function(){return i.e("chunk-84242278").then(i.bind(null,"bd37"))},BuildingListItem:function(){return i.e("chunk-59fdea6a").then(i.bind(null,"9495"))},Legend:function(){return i.e("chunk-1307805c").then(i.bind(null,"136f"))}},props:["selectedBuildingId"],data:function(){return{administrativeAreas:i("89e9").default,createNewBuilding:!1,updateListOfBuildings:!1,dialogDelete:!1,deleteConfirmed:!1,expanded:[],expandedItemName:null,items:localStorage.getAllBuildings().map((function(e){return Object.assign(e.addressComponents,{_id:e._id,address:e.address,coordinates:e.coordinates,buildingName:e.buildingName,status:e.status,isActive:!1})})),options:{page:1,itemsPerPage:10},postcodeSearch:"",stateSearch:"",localitySearch:"",streetSearch:"",editedIndex:-1,editedItem:{}}},computed:{buildingId:{get:function(){return this.selectedBuildingId},set:function(e){var t=this;this._getBuildingDetails(e).then((function(){t.$emit("update:selectedBuildingId",e)}))}},headers:function(){var e=this;return[{text:"State",align:"start",sortable:!0,value:"state",filter:function(t){return!e.stateSearch||-1!==t.toLowerCase().indexOf(e.stateSearch.toLowerCase())}},{text:"Postal Code",value:"postCode",filter:function(t){return!e.postcodeSearch||t===e.postcodeSearch}},{text:"Locality",value:"city",filter:function(t){return!e.localitySearch||-1!==t.toLowerCase().indexOf(e.localitySearch.toLowerCase())}},{text:"Street Name",value:"street",filter:function(t){return!e.streetSearch||-1!==t.toLowerCase().indexOf(e.streetSearch.toLowerCase())}},{text:"Street Number",value:"number"},{text:"Status",value:"connect",sortable:!1},{text:"Actions",value:"actions",sortable:!1},{text:"",value:"data-table-expand"}]}},watch:{createNewBuilding:function(e){e&&(this.clearActive(),this.expandedItemName="",this.buildingId=null,localStorage.setItemByName("selectedBuilding",null),this.dialog=!0)},updateListOfBuildings:function(e){if(e){var t=localStorage.getItemByName("selectedBuilding");this.items.push(Object.assign(t.addressComponents,{address:t.address,buildingName:t.buildingName,status:t.status,coordinates:t.coordinates,_id:t._id,isActive:!0})),this.expanded=[this.items[this.items.length-1]],Object.assign(this.options,{page:Math.floor(this.items.length+1/this.options.itemsPerPage)}),this.updateListOfBuildings=!1,this.$emit("update:selectedBuildingId",t._id)}},expanded:function(e){if(this.clearActive(),!e[0])return this.expandedItemName="",void this.$emit("update:selectedBuildingId",null);var t=this.items.indexOf(e[0]);this.items[t].isActive=!0,this.expandedItemName="".concat(e[0].number," ").concat(e[0].street,", ").concat(e[0].city," ").concat(e[0].state," ").concat(e[0].postCode),this.$emit("update:selectedBuildingId",e[0]._id)},deleteConfirmed:function(e){e&&this.deleteBuilding()}},methods:{clearActive:function(){this.items.forEach((function(e){return Object.assign(e,{isActive:!1})}))},getIcon:function(e){var t=this.$buildingTypes.indexOf(e);return-1===t?(console.warn("Invalid Building Status: ",e),this.$typeIcons[this.$typeIcons.length-1][0]):this.$typeIcons[t]},getColor:function(e){var t=this.$buildingTypes.indexOf(e);return-1===t?(console.warn("Invalid Building Status: ",e),this.$typeColors[this.$typeColors.length-1][0]):this.$typeColors[t]},getIconColorForSaveButton:function(e){return e.isActive?"#09b":"#888"},saveItem:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e.isActive){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,t._saveBuilding();case 4:n=i.sent,n.error?t.$root.$emit("error-event",{type:"Data save error",message:"Error saving building' data"}):t.$root.$emit("message-event",{type:"Success",message:"Building data saved"});case 6:case"end":return i.stop()}}),i)})))()},deleteItem:function(e){this.editedIndex=this.items.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteBuilding:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e._deleteBuilding(e.items[e.editedIndex]._id);case 2:e.items.splice(e.editedIndex,1),e.$nextTick((function(){e.expanded=[],e.editedItem=null,e.editedIndex=-1})),e.dialogDelete=!1,e.deleteConfirmed=!1,e.$root.$emit("message-event",{type:"Delete",message:"Building removed"});case 7:case"end":return t.stop()}}),t)})))()}}},o=r,d=(i("d08a"),i("2877")),c=i("6544"),l=i.n(c),u=i("8336"),h=i("b0af"),f=i("a523"),g=i("8fea"),p=i("132d"),m=i("b974"),v=i("2fa4"),b=i("8654"),y=i("71d9"),B=i("2a7f"),x=Object(d["a"])(o,n,a,!1,null,"febddd92",null);t["default"]=x.exports;l()(x,{VBtn:u["a"],VCard:h["a"],VContainer:f["a"],VDataTable:g["a"],VIcon:p["a"],VSelect:m["a"],VSpacer:v["a"],VTextField:b["a"],VToolbar:y["a"],VToolbarTitle:B["b"]})},"297c":function(e,t,i){"use strict";i("a9e3");var n=i("a026"),a=(i("c7cd"),i("5530")),s=i("ade3"),r=(i("6ece"),i("0789")),o=i("a9ad"),d=i("fe6c"),c=i("a452"),l=i("7560"),u=i("80d2"),h=i("58df"),f=Object(h["a"])(o["a"],Object(d["b"])(["absolute","fixed","top","bottom"]),c["a"],l["a"]),g=f.extend({name:"v-progress-linear",props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,reverse:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data:function(){return{internalLazyValue:this.value||0}},computed:{__cachedBackground:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar:function(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType:function(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer:function(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(u["g"])(this.normalizedValue,"%")}}))},__cachedIndeterminate:function(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream:function(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(u["g"])(100-this.normalizedBuffer,"%")}})):null},backgroundStyle:function(){var e,t=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return e={opacity:t},Object(s["a"])(e,this.isReversed?"right":"left",Object(u["g"])(this.normalizedValue,"%")),Object(s["a"])(e,"width",Object(u["g"])(this.normalizedBuffer-this.normalizedValue,"%")),e},classes:function(){return Object(a["a"])({"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--reverse":this.isReversed,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped},this.themeClasses)},computedTransition:function(){return this.indeterminate?r["c"]:r["e"]},isReversed:function(){return this.$vuetify.rtl!==this.reverse},normalizedBuffer:function(){return this.normalize(this.bufferValue)},normalizedValue:function(){return this.normalize(this.internalLazyValue)},reactive:function(){return Boolean(this.$listeners.change)},styles:function(){var e={};return this.active||(e.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(e.width=Object(u["g"])(this.normalizedBuffer,"%")),e}},methods:{genContent:function(){var e=Object(u["s"])(this,"default",{value:this.internalLazyValue});return e?this.$createElement("div",{staticClass:"v-progress-linear__content"},e):null},genListeners:function(){var e=this.$listeners;return this.reactive&&(e.click=this.onClick),e},genProgressBar:function(e){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:Object(s["a"])({},e,!0)}))},onClick:function(e){if(this.reactive){var t=this.$el.getBoundingClientRect(),i=t.width;this.internalValue=e.offsetX/i*100}},normalize:function(e){return e<0?0:e>100?100:parseFloat(e)}},render:function(e){var t={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:{bottom:this.bottom?0:void 0,height:this.active?Object(u["g"])(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return e("div",t,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}}),p=g;t["a"]=n["a"].extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(p,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},"615b":function(e,t,i){},"6ece":function(e,t,i){},"89e9":function(e,t,i){"use strict";i.r(t),t["default"]=["VIC","NSW","QLD","SA","TAS","WA","ACT","NT"]},b0af:function(e,t,i){"use strict";i("0481"),i("4069"),i("a9e3");var n=i("5530"),a=(i("615b"),i("10d2")),s=i("297c"),r=i("1c87"),o=i("58df");t["a"]=Object(o["a"])(s["a"],r["a"],a["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({"v-card":!0},r["a"].options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},a["a"].options.computed.classes.call(this))},styles:function(){var e=Object(n["a"])({},a["a"].options.computed.styles.call(this));return this.img&&(e.background='url("'.concat(this.img,'") center center / cover no-repeat')),e}},methods:{genProgress:function(){var e=s["a"].options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render:function(e){var t=this.generateRouteLink(),i=t.tag,n=t.data;return n.style=this.styles,this.isClickable&&(n.attrs=n.attrs||{},n.attrs.tabindex=0),e(i,this.setBackgroundColor(this.color,n),[this.genProgress(),this.$slots.default])}})},d08a:function(e,t,i){"use strict";var n=i("f068"),a=i.n(n);a.a},e8f2:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));i("99af"),i("4de4"),i("a15b"),i("b64b"),i("2ca0"),i("498a");var n=i("a026");function a(e){return n["a"].extend({name:"v-".concat(e),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(t,i){var n=i.props,a=i.data,s=i.children;a.staticClass="".concat(e," ").concat(a.staticClass||"").trim();var r=a.attrs;if(r){a.attrs={};var o=Object.keys(r).filter((function(e){if("slot"===e)return!1;var t=r[e];return e.startsWith("data-")?(a.attrs[e]=t,!1):t||"string"===typeof t}));o.length&&(a.staticClass+=" ".concat(o.join(" ")))}return n.id&&(a.domProps=a.domProps||{},a.domProps.id=n.id),t(n.tag,a,s)}})}},f068:function(e,t,i){}}]);
//# sourceMappingURL=chunk-8b02d28a.ba9db911.js.map