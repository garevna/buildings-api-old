{"version":3,"sources":["webpack:///../../../src/components/VGrid/VContainer.ts","webpack:///./src/components/building/FilesUpload.vue?6975","webpack:///src/components/building/FilesUpload.vue","webpack:///./src/components/building/FilesUpload.vue?105f","webpack:///./src/components/building/FilesUpload.vue","webpack:///../../../src/components/VGrid/grid.ts"],"names":["name","functional","props","id","tag","type","default","fluid","render","children","attrs","data","classes","Object","key","value","h","staticClass","class","Array","_vm","this","_h","$createElement","_c","_self","param","selectedFile","on","$event","config","fileLink","files","staticRenderFns","components","UploadFile","ShowPDF","ShowImages","computed","propName","array","scheme","watch","immediate","deep","handler","val","buildingId","_id","links","setValues","console","warn","file","upload","methods","component","VCard","VContainer"],"mappings":"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","file":"js/chunk-dcc9bde8.9d1761ad.js","sourcesContent":["import './_grid.sass'\nimport './VGrid.sass'\n\nimport Grid from './grid'\n\nimport mergeData from '../../util/mergeData'\n\n/* @vue/component */\nexport default Grid('container').extend({\n  name: 'v-container',\n  functional: true,\n  props: {\n    id: String,\n    tag: {\n      type: String,\n      default: 'div',\n    },\n    fluid: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  render (h, { props, data, children }) {\n    let classes\n    const { attrs } = data\n    if (attrs) {\n      // reset attrs to extract utility clases like pa-3\n      data.attrs = {}\n      classes = Object.keys(attrs).filter(key => {\n        // TODO: Remove once resolved\n        // https://github.com/vuejs/vue/issues/7841\n        if (key === 'slot') return false\n\n        const value = attrs[key]\n\n        // add back data attributes like data-test=\"foo\" but do not\n        // add them as classes\n        if (key.startsWith('data-')) {\n          data.attrs![key] = value\n          return false\n        }\n\n        return value || typeof value === 'string'\n      })\n    }\n\n    if (props.id) {\n      data.domProps = data.domProps || {}\n      data.domProps.id = props.id\n    }\n\n    return h(\n      props.tag,\n      mergeData(data, {\n        staticClass: 'container',\n        class: Array<any>({\n          'container--fluid': props.fluid,\n        }).concat(classes || []),\n      }),\n      children\n    )\n  },\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-card',{staticClass:\"mx-auto mt-0\",attrs:{\"flat\":\"\",\"max-width\":\"1440\",\"min-width\":\"360\",\"width\":\"100%\"}},[_c('UploadFile',{attrs:{\"param\":_vm.param,\"file\":_vm.selectedFile},on:{\"update:file\":function($event){_vm.selectedFile=$event}}}),(_vm.config[this.param].type === 'pdf')?_c('ShowPDF',{attrs:{\"link\":_vm.fileLink}}):_c('ShowImages',{attrs:{\"links\":_vm.files},on:{\"update:links\":function($event){_vm.files=$event}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-card flat class=\"mx-auto mt-0\" max-width=\"1440\" min-width=\"360\" width=\"100%\">\n      <UploadFile\n        :param=\"param\"\n        :file.sync=\"selectedFile\"\n      />\n\n      <ShowPDF v-if=\"config[this.param].type === 'pdf'\" :link=\"fileLink\" />\n      <ShowImages v-else :links.sync=\"files\" />\n\n    </v-card>\n  </v-container>\n</template>\n\n<script>\n\nexport default {\n  name: 'FilesUpload',\n  components: {\n    UploadFile: () => import('@/components/inputs/UploadFile.vue'),\n    ShowPDF: () => import('@/components/inputs/ShowPDF.vue'),\n    ShowImages: () => import('@/components/inputs/ShowImages.vue')\n  },\n\n  props: ['data', 'param', 'changed'],\n\n  data: () => ({\n    config: require('@/config/uploads').default,\n    buildingId: null,\n    links: null,\n    selectedFile: null,\n    fileLink: null,\n    files: null\n  }),\n\n  computed: {\n    type () {\n      return this.config[this.param].type\n    },\n    propName () {\n      return this.config[this.param].propName\n    },\n    array () {\n      return this.config[this.param].scheme === 'array'\n    }\n  },\n  watch: {\n    data: {\n      immediate: true,\n      deep: true,\n      handler (val) {\n        if (!val) {\n          console.warn('Error: Building data is null')\n          return\n        }\n        const data = localStorage.getItemByName('selectedBuilding')\n        this.buildingId = data._id\n        this.links = data.files\n        this.setValues(this.links[this.propName])\n        // val && val.files && this.setValues(val.files[this.propName])\n      }\n    },\n    propName: {\n      immediate: true,\n      handler (val) {\n        this.setValues(this.links[val])\n      }\n    },\n    selectedFile: {\n      deep: true,\n      handler (file) {\n        file && this.upload(file)\n      }\n    }\n  },\n  methods: {\n\n    setValues (data) {\n      if (this.array) {\n        this.files = data\n      } else {\n        this.fileLink = data\n      }\n    },\n\n    async upload (file) {\n      const response = await this._uploadBuildingFiles(file, this.param)\n      if (response.error) {\n        this.$root.$emit('error-event', {\n          type: 'Error uploading file',\n          message: 'Try once more please'\n        })\n        return null\n      }\n      localStorage.setItemByName('selectedBuilding', await this._getBuildingDetails(this.data._id))\n\n      this.$emit('update:changed', true)\n\n      this.setValues(this.links[this.propName])\n\n      return response.url\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesUpload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilesUpload.vue?vue&type=template&id=6d595b39&\"\nimport script from \"./FilesUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./FilesUpload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VContainer})\n","// Types\nimport Vue, { VNode } from 'vue'\n\nexport default function VGrid (name: string) {\n  /* @vue/component */\n  return Vue.extend({\n    name: `v-${name}`,\n\n    functional: true,\n\n    props: {\n      id: String,\n      tag: {\n        type: String,\n        default: 'div',\n      },\n    },\n\n    render (h, { props, data, children }): VNode {\n      data.staticClass = (`${name} ${data.staticClass || ''}`).trim()\n\n      const { attrs } = data\n      if (attrs) {\n        // reset attrs to extract utility clases like pa-3\n        data.attrs = {}\n        const classes = Object.keys(attrs).filter(key => {\n          // TODO: Remove once resolved\n          // https://github.com/vuejs/vue/issues/7841\n          if (key === 'slot') return false\n\n          const value = attrs[key]\n\n          // add back data attributes like data-test=\"foo\" but do not\n          // add them as classes\n          if (key.startsWith('data-')) {\n            data.attrs![key] = value\n            return false\n          }\n\n          return value || typeof value === 'string'\n        })\n\n        if (classes.length) data.staticClass += ` ${classes.join(' ')}`\n      }\n\n      if (props.id) {\n        data.domProps = data.domProps || {}\n        data.domProps.id = props.id\n      }\n\n      return h(props.tag, data, children)\n    },\n  })\n}\n"],"sourceRoot":""}