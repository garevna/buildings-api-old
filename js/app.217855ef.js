(function(e){function t(t){for(var i,r,o=t[0],l=t[1],d=t[2],u=0,p=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);c&&c(t);while(p.length)p.shift()();return s.push.apply(s,d||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(i=!1)}i&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},a={app:0},s=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dgtek-buildings-api/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var c=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1a94":function(e,t,n){"use strict";n.r(t);n("99af"),n("d3b7"),n("96cf");var i=n("1da1");t["default"]=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://dgtek-staging.herokuapp.com/building","/").concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"rAxKIAyY9j3Aq0OZ4TnGHCibU9G6oZZP8NaMOlKeJV9U2qjOKu0xOOQwjw3JzKaewN4DmzQ97aEsUh1XyAsQboJqQpbFpgK0JQkt"}});case 2:return e.next=4,e.sent.json();case 4:return n=e.sent,localStorage.setItemByName("selectedBuilding",n.building),e.abrupt("return",n.building);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"1dd9":function(e,t,n){"use strict";var i=n("bb56"),a=n.n(i);a.a},"25f03":function(e,t,n){},2681:function(e,t,n){n("99af"),n("4de4"),n("4160"),n("c975"),n("a434"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0");var i=n("4082"),a=n("6374");Storage.prototype.getItemByName=function(e){return JSON.parse(this.getItem(e))},Storage.prototype.setItemByName=function(e,t){this.setItem(e,JSON.stringify(t))},Storage.prototype.getAllKeys=function(){var e,t=new Set,n=new Set,i=new Set,s=new Set,r=new Set,o=a(this.buildingTypes);try{for(o.s();!(e=o.n()).done;){var l,d=e.value,c=this.getItemByName(d),u=a(c);try{for(u.s();!(l=u.n()).done;){var p=l.value,m=this.getItemByName(p);m.properties&&(t.add(m.properties.street),n.add(m.properties.city),i.add(m.properties.postCode),s.add(m.properties.state),r.add(m.properties.admin))}}catch(f){u.e(f)}finally{u.f()}}}catch(f){o.e(f)}finally{o.f()}return{streets:t,cities:n,postalCodes:i,states:s,admins:r}},Storage.prototype.findMarkersByAddress=function(e){var t,n=this,i=[],s=a(this.buildingTypes);try{for(s.s();!(t=s.n()).done;){var r=t.value,o=this.getItemByName(r);i=i.concat(o.filter((function(t){return n.getItemByName(t).address===e})))}}catch(l){s.e(l)}finally{s.f()}return i},Storage.prototype.findMarkersByProperty=function(e,t){var n,i=this,s=[],r=a(this.buildingTypes);try{for(r.s();!(n=r.n()).done;){var o=n.value,l=this.getItemByName(o);s=s.concat(l.filter((function(n){var a=i.getItemByName(n);return a.properties&&a.properties[e]===t})))}}catch(d){r.e(d)}finally{r.f()}return s},Storage.prototype.findMarkersByStreet=function(e){return this.findMarkersByProperty("street",e)},Storage.prototype.findMarkersByCity=function(e){return this.findMarkersByProperty("city",e)},Storage.prototype.findMarkersByState=function(e){return this.findMarkersByProperty("state",e)},Storage.prototype.findMarkersByAdminArea=function(e){return this.findMarkersByProperty("admin",e)},Storage.prototype.findMarkersByPostalCode=function(e){return this.findMarkersByProperty("postCode",e)},Storage.prototype.findMarker=function(e,t){var n,i=a(this.buildingTypes);try{for(i.s();!(n=i.n()).done;){var s,r=n.value,o=this.getItemByName(r),l=a(o);try{for(l.s();!(s=l.n()).done;){var d=s.value,c=this.getItemByName(d);if(c.address===e)return Object.assign(c,{id:d});if(c.address.indexOf(e)>=0&&console.warn("Partial consilience found"),JSON.stringify(c.coordinates)===JSON.stringify(t))return this.setItemByName(d,{address:e,coordinates:t,type:c.type}),Object.assign(c,{id:d})}}catch(u){l.e(u)}finally{l.f()}}}catch(u){i.e(u)}finally{i.f()}return null},Storage.prototype.getMarkerCoordinates=function(e){return this.getItemByName(e).coordinates},Storage.prototype.setMarkerCoordinates=function(e,t){var n=this.getItemByName(e);n.coordinates=t,this.setItemByName(e,n)},Storage.prototype.setBuilingsListItem=function(e,t){this.setItemByName(e,{_id:e,address:t.address,addressComponents:t.addressComponents,buildingName:t.buildingName,coordinates:t.coordinates,distanceFromFootprint:t.distanceFromFootprint,type:t.type})},Storage.prototype.getMarkerType=function(e){return this.getItemByName(e).type},Storage.prototype.addNewBuilding=function(e,t){t.type=-1!==this.buildingTypes.indexOf(t.type)?t.type:this.buildingTypes.default,this.addBuildingToCollection(e,t.type),this.setItemByName("selectedBuilding",t),this.setBuilingsListItem(e,t),this.emit({eventType:"new-marker-added",markerId:e,type:t.type,coordinates:t.coordinates})},Storage.prototype.addBuildingToCollection=function(e,t){-1===this.buildingTypes.indexOf(t)&&(console.warn("Building ".concat(e," has ivalid type")),t=this.buildingTypes.default);var n,i=!1,s=a(this.buildingTypes);try{for(s.s();!(n=s.n()).done;){var r=n.value;if(i=-1!==this.getItemByName(r).indexOf(e),i)return void console.warn("Building ".concat(e," already exist"))}}catch(l){s.e(l)}finally{s.f()}var o=this.getItemByName(t);o.push(e),this.setItemByName(t,o)},Storage.prototype.removeBuildingFromCollection=function(e){var t,n=a(this.buildingTypes);try{for(n.s();!(t=n.n()).done;){var i=t.value,s=this.getItemByName(i),r=s.indexOf(e);if(-1!==r){s.splice(r,1),this.setItemByName(i,s);break}}}catch(o){n.e(o)}finally{n.f()}},Storage.prototype.removeBuilding=function(e){this.removeBuildingFromCollection(e),this.removeItem(e)},Storage.prototype.updateMarkerType=function(e){var t=this.getItemByName("selectedBuilding");if(-1===this.buildingTypes.indexOf(e))return!1;this.removeBuildingFromCollection(t._id),this.addBuildingToCollection(t._id,e),this.setItemByName(t._id,Object.assign(this.getItemByName(t._id),{type:e})),this.setItemByName("selectedBuilding",Object.assign(this.getItemByName("selectedBuilding"),{type:e})),this.emit({eventType:"marker-type-changed",markerId:t._id,type:e})},Storage.prototype.getAllBuildings=function(){var e,t=this,n=[],i=a(this.buildingTypes);try{for(i.s();!(e=i.n()).done;){var s=e.value;this.getItemByName(s).forEach((function(e){n.push(t.getItemByName(e))}))}}catch(r){i.e(r)}finally{i.f()}return n},Storage.prototype.emit=function(e){var t=e.eventType,n=i(e,["eventType"]);this.eventHandler.dispatchEvent(Object.assign(new Event(t),{details:n}))}},"332e":function(e,t,n){"use strict";var i=n("6883"),a=n.n(i);a.a},3504:function(e,t,n){"use strict";n.r(t);n("99af"),n("d3b7"),n("9911"),n("96cf");var i=n("1da1");t["default"]=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=localStorage.getItemByName("selectedBuilding"),e.next=3,fetch("".concat("https://dgtek-staging.herokuapp.com/building","/upload/design/").concat(n._id),{method:"POST",headers:{Authorization:"rAxKIAyY9j3Aq0OZ4TnGHCibU9G6oZZP8NaMOlKeJV9U2qjOKu0xOOQwjw3JzKaewN4DmzQ97aEsUh1XyAsQboJqQpbFpgK0JQkt"},body:JSON.stringify(t)});case 3:return e.next=5,e.sent.json();case 5:if(i=e.sent,console.log("UPLOAD CURRENT BUILDING DESIGN:\n",i),!i.error){e.next=10;break}return console.warn(i.error),e.abrupt("return",null);case 10:return n.files.design.link=i.data,localStorage.setBuilingsListItem(n._id,n),e.abrupt("return",i.data);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"54c8":function(e,t,n){"use strict";n.r(t),t["default"]={buildingName:"",type:"",coordinates:[0,0],address:"",addressComponents:{number:0,street:"",city:"",state:"",postCode:"",admin:""},footprint:!0,distanceFromFootprint:0,buildingType:"",owner:{name:"",address:"",phone:"",email:"",contactPerson:""},management:{name:"",address:"",phone:"",email:"",contactPerson:""},customerInstallApprovalRequired:!0,inductionRequired:!0,difficultyLevel:{leadInInstallation:0,backboneInstallation:0,customerInstallation:0},numberOfLevels:0,infrastructure:{type:"",leadIn:{planned:!1,installed:!1},backbone:{planned:!1,installed:!1},customerAccessCabling:{planned:!1,installed:!1},gPOinMDF:{exist:!1,planned:!1,installed:!1},uPSinMDF:{planned:!1,installed:!1},gPOinRisers:{exist:!1,planned:!1,installed:!1},uPSinRisers:{planned:!1,installed:!1}},files:{design:{_id:"",link:"",name:""},laanInspect:{_id:"",link:"",name:""},laanInstall:{_id:"",link:"",name:""},scope:{_id:"",link:"",name:""},photos:[{_id:"",link:"",name:""}],approoval:{_id:"",link:"",name:""}},numberOfDwellings:0,avgFloorHeight:0,levels:[{plannedRouter:!1,plannedSplicingBox:!1,plannedSplitter:!1,plannedOFTU:!1,plannedRack:!1,installedRouter:!1,installedSplicingBox:!1,installedSplitter:!1,installedOFTU:!1,installedRack:!1,routerId:""}]}},"56d7":function(e,t,n){"use strict";n.r(t);n("4160"),n("fb6a"),n("159b"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("a026"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{absolute:"",color:"white","elevate-on-scroll":""}},[n("v-toolbar-title",[n("h5",[e._v("Buildings API")])]),n("v-spacer"),e.selectedBuilding?n("v-tooltip",{attrs:{bottom:"",color:"#090"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({attrs:{icon:""},on:{click:e._saveBuilding}},i),[n("v-icon",[e._v("mdi-content-save")])],1)]}}],null,!1,3953523247)},[n("span",[e._v("Save current building data")])]):e._e(),e.selectedBuilding?n("v-tooltip",{attrs:{bottom:"",color:"#900"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({attrs:{icon:""},on:{click:function(t){e.confirmDeleteVisibility=!0}}},i),[n("v-icon",[e._v("mdi-trash-can")])],1)]}}],null,!1,414344244)},[n("span",[e._v("Remove current building forever")])]):e._e()],1),n("v-main",{attrs:{id:"dgtek-markers"}},[n("Buildings",{directives:[{name:"show",rawName:"v-show",value:"home"===e.value,expression:"value === 'home'"}],attrs:{buildingSelected:e.selectedBuilding},on:{"update:buildingSelected":function(t){e.selectedBuilding=t},"update:building-selected":function(t){e.selectedBuilding=t}}}),"list"===e.value?n("ListOfBuildings"):e._e(),n("SiteSurvey",{attrs:{opened:e.infrastructure},on:{"update:opened":function(t){e.infrastructure=t}}}),n("BuildingLevels",{attrs:{opened:e.levels,address:e.address,levels:e.buildingLevels},on:{"update:opened":function(t){e.levels=t}}})],1),n("v-bottom-navigation",{attrs:{absolute:"",color:"#900"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("v-btn",{attrs:{value:"home"}},[n("span",[e._v("Home")]),n("v-icon",[e._v("mdi-map")])],1),n("v-btn",{attrs:{value:"list"}},[n("span",[e._v("List of buildings")]),n("v-icon",[e._v("mdi-view-list")])],1),e.selectedBuilding?n("v-btn",{attrs:{value:"infrastructure"}},[n("span",[e._v("Infrastructure")]),n("v-icon",[e._v("mdi-pencil-ruler")])],1):e._e(),e.selectedBuilding?n("v-btn",{attrs:{value:"levels"}},[n("span",[e._v("Building Levels")]),n("v-icon",[e._v("mdi-home-city-outline")])],1):e._e()],1),n("ConfirmDelete",{attrs:{visibility:e.confirmDeleteVisibility,response:e.removingConfirmed},on:{"update:visibility":function(t){e.confirmDeleteVisibility=t},"update:response":function(t){e.removingConfirmed=t}}})],1)},s=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{staticClass:"text-center"},[n("v-col",{attrs:{cols:"12",lg:"7"}},[n("div",{attrs:{id:"dgtek-container-for-map"}})]),e.ready?n("v-col",{attrs:{cols:"12",lg:"5"}},[e.diagnostics&&!e.diagnosticsDone?n("Diagnostics",{attrs:{types:e.buildingTypes,finished:e.diagnosticsDone,opened:e.diagnostics},on:{"update:finished":function(t){e.diagnosticsDone=t},"update:opened":function(t){e.diagnostics=t}}}):e._e(),e.diagnostics?e._e():n("AddressInfo",{attrs:{buildingId:e.selectedBuildingId,descriptionChanged:e.descriptionChanged,search:e.search},on:{"update:buildingId":function(t){e.selectedBuildingId=t},"update:building-id":function(t){e.selectedBuildingId=t},"update:descriptionChanged":function(t){e.descriptionChanged=t},"update:description-changed":function(t){e.descriptionChanged=t}}})],1):e._e()],1),e.selectedBuilding?n("BuildingDescription",{attrs:{dialog:e.buildingDescriptionVisible,markerId:e.selectedBuildingId,descriptionChanged:e.descriptionChanged},on:{"update:dialog":function(t){e.buildingDescriptionVisible=t},"update:descriptionChanged":function(t){e.descriptionChanged=t},"update:description-changed":function(t){e.descriptionChanged=t}}}):e._e(),e.diagnosticsDone?e._e():n("Button",{attrs:{clicked:e.diagnostics,text:"DIAGNOSTICS"},on:{"update:clicked":function(t){e.diagnostics=t}}}),n("Button",{attrs:{clicked:e.search,text:"SEARCH"},on:{"update:clicked":function(t){e.search=t}}}),e.selectedBuilding?n("Button",{attrs:{clicked:e.buildingDescriptionVisible,text:"Address description"},on:{"update:clicked":function(t){e.buildingDescriptionVisible=t}}}):e._e()],1)},o=[],l=(n("a4d3"),n("e01a"),n("d81d"),n("96cf"),n("1da1")),d=(n("99af"),n("d3b7"),n("b85c")),c=n("15fd"),u=n("d4ec"),p=n("bee2"),m=[{featureType:"landscape",elementType:"geometry",stylers:[{color:"#dddddd"},{lightness:0}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:0},{weight:.4}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#888888"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#777777"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:100},{color:"#333333"},{lightness:0}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}],f=function(){function e(t){Object(u["a"])(this,e),this.map=null,this.selectedMarkerId=null;var n=t.container,i=Object(c["a"])(t,["container"]);for(var a in n&&1===n.nodeType?this.container=n:(this.container=document.body.appendChild(document.createElement("div")),this.container.id="dgtek-container-for-map"),this.mapContainer=this.container.appendChild(document.createElement("div")),this.storage.constructor.prototype.eventHandler=this.container,this.createMap(),i)this.options[a]=i[a];this.center=this.options.center,this.setMapSize()}return Object(p["a"])(e,[{key:"changeMarkerAddress",value:function(e,t,n){this.selectedMarkerId&&this.selectedMarkerId===e&&(this[this.selectedMarkerId].address=t,this[this.selectedMarkerId].setOptions({title:t,position:n}),this.map.panTo(n))}},{key:"setSearchMarker",value:function(e,t){this.searchMarker?this.searchMarker.setOptions({map:this.map,position:{lat:e[1],lng:e[0]},title:t}):this.searchMarker=new window.google.maps.Marker({map:this.map,position:{lat:e[1],lng:e[0]},scale:1,icon:this.searchMarkerIcon,draggable:!1,raiseOnDrag:!1,title:t||"Search"}),this.map.setCenter({lat:e[1],lng:e[0]})}},{key:"resetSearchMarker",value:function(){this.searchMarker&&this.searchMarker.setOptions({map:null})}},{key:"changeMarkerCoordinates",value:function(e){var t=new window.google.maps.LatLng(e.details.markerCoordinates[1],e.details.markerCoordinates[0]);this[this.selectedMarkerId].setPosition(t)}},{key:"changeMarkerType",value:function(e){this[this.selectedMarkerId].setOptions({icon:this.options.markers[e.details.type]})}},{key:"setMarkerActive",value:function(e){console.log("selectedMarkerId: ",this.selectedMarkerId),console.log(this[this.selectedMarkerId]),this.selectedMarkerId&&(this[this.selectedMarkerId].setOptions({icon:this.activeMarkerIcon,zIndex:9999999}),this.container.dispatchEvent(Object.assign(new Event("marker-selected"),{details:{id:this.selectedMarkerId}})),this.map.panTo(this[this.selectedMarkerId].position))}},{key:"resetSelectedMarker",value:function(){console.log(this),console.log("selectedMarkerId: ",this.selectedMarkerId),console.log(this[this.selectedMarkerId]),this.selectedMarkerId&&this[this.selectedMarkerId].setOptions({icon:this.options.markers[this[this.selectedMarkerId].type]}),this.container.dispatchEvent(new Event("reset-selected-marker"))}},{key:"mapClickEventHandler",value:function(e){this.map.setCenter(e.latLng),this.selectedMarkerId&&this.resetSelectedMarker(),this.container.dispatchEvent(Object.assign(new Event("empty-field-click"),{details:{coordinates:[e.latLng.lat(),e.latLng.lng()]}}))}},{key:"selectMarkerById",value:function(e){this.selectedMarkerId=e,setTimeout(this.setMarkerActive.bind(this))}},{key:"placeMarker",value:function(e){var t=Object.assign(new window.google.maps.Marker({map:this.map,position:{lat:e.coordinates[1],lng:e.coordinates[0]},icon:this.options.markers[e.type],draggable:!1,raiseOnDrag:!1,title:e.address,type:e.type}),{id:e.id}),n=this.createMarkerClickHandler(e.id,t);return t.addListener("click",n.bind(this)),t}},{key:"createMarkerClickHandler",value:function(e,t){return function(n){t.setOptions({icon:this.activeMarkerIcon}),console.log("MAP: selectedMarkerId: ",this.selectedMarkerId),this.selectedMarkerId&&this.selectedMarkerId!==t.id&&this[this.selectedMarkerId].setOptions({icon:this.options.markers[this[this.selectedMarkerId].type]}),this.selectedMarkerId=t.id,this.container.dispatchEvent(Object.assign(new Event("marker-selected"),{details:{id:e}})),setTimeout(this.setMarkerActive.bind(this))}.bind(this)}},{key:"placeMarkers",value:function(){var e,t=this,n=Object(d["a"])(localStorage.buildingTypes);try{var i=function(){var n=e.value,i=localStorage.getItemByName(n);i.forEach((function(e){var i=localStorage.getItemByName(e);i.id=e,t[e]=t.placeMarker(i,n)}))};for(n.s();!(e=n.n()).done;)i()}catch(a){n.e(a)}finally{n.f()}}},{key:"removeMarker",value:function(){this.selectedMarkerId&&(this[this.selectedMarkerId].setOptions({map:null}),this.selectedMarkerId=null)}}]),e}();f.prototype.storage=localStorage,f.prototype.options={container:document.body,height:"700px",width:"100%",center:{lat:-37.87013628,lng:144.963058},markerTypes:["LIT","Footprint"],markers:{}},f.prototype.loadScript=function(){return new Promise((function(e){var t=document.body.appendChild(document.createElement("script"));t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVql75Qc_Y5oGvrxdcNRNMhBlZEzTdk1o&libraries=geometry,drawing,places",t.onload=e.bind(null,!0),t.onerror=e.bind(null,!1)}))},f.prototype.createMap=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadScript();case 2:if(e.sent){e.next=4;break}return e.abrupt("return",console.error("Error accessing Google Maps API"));case 4:f.prototype.__geo=window.google.maps,f.prototype.Polygon=window.google.maps.Polygon,f.prototype.__places=window.google.maps.places,f.prototype.__geoCoder=new window.google.maps.Geocoder,f.prototype.Autocomplete=window.google.maps.places.Autocomplete,f.prototype.__geoLocation=window.google.maps.geometry.poly.containsLocation,window.google.maps.SymbolPath.MARKER="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z",f.prototype.options.markers={LIT:{path:window.google.maps.SymbolPath.MARKER,strokeColor:"#fff",strokeWeight:1.2,strokeOpacity:1,fillColor:"#080",fillOpacity:1,scale:1},Footprint:{path:window.google.maps.SymbolPath.MARKER,strokeColor:"#fff",strokeWeight:1.2,strokeOpacity:1,fillColor:"#08a",fillOpacity:1,scale:1},ComingSoon:{path:window.google.maps.SymbolPath.MARKER,strokeColor:"#fff",strokeWeight:1.2,strokeOpacity:1,fillColor:"#fa0",fillOpacity:1,scale:1},Other:{path:window.google.maps.SymbolPath.MARKER,strokeColor:"#fff",strokeWeight:1.2,strokeOpacity:1,fillColor:"#900",fillOpacity:1,scale:1}},f.prototype.activeMarkerIcon={path:"M12,3L2,12H5V20H19V12H22L12,3M12,7.7C14.1,7.7 15.8,9.4 15.8,11.5C15.8,14.5 12,18 12,18C12,18 8.2,14.5 8.2,11.5C8.2,9.4 9.9,7.7 12,7.7M12,10A1.5,1.5 0 0,0 10.5,11.5A1.5,1.5 0 0,0 12,13A1.5,1.5 0 0,0 13.5,11.5A1.5,1.5 0 0,0 12,10Z",strokeColor:"#fff",strokeWeight:1.3,strokeOpacity:1,fillColor:"#f0f",fillOpacity:1,scale:1.2},f.prototype.searchMarkerIcon={path:"M11,2V4.07C7.38,4.53 4.53,7.38 4.07,11H2V13H4.07C4.53,16.62 7.38,19.47 11,19.93V22H13V19.93C16.62,19.47 19.47,16.62 19.93,13H22V11H19.93C19.47,7.38 16.62,4.53 13,4.07V2M11,6.08V8H13V6.09C15.5,6.5 17.5,8.5 17.92,11H16V13H17.91C17.5,15.5 15.5,17.5 13,17.92V16H11V17.91C8.5,17.5 6.5,15.5 6.08,13H8V11H6.09C6.5,8.5 8.5,6.5 11,6.08M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11Z",strokeColor:"#fff",strokeWeight:1,strokeOpacity:1,fillColor:"#900",fillOpacity:1,scale:2},this.map=new window.google.maps.Map(this.mapContainer,{center:this.center,zoom:14,styles:m,disableDefaultUI:!0}),window.google.maps.event.addListener(this.map,"click",this.mapClickEventHandler.bind(this)),this.placeMarkers(),this.container.dispatchEvent(new Event("map-is-ready"));case 18:case"end":return e.stop()}}),e,this)}))),f.prototype.setMapSize=function(){var e=this.container.getBoundingClientRect;this.height=e&&e.height?e.height:"number"===typeof this.options.height?this.options.height:400,this.mapHeight=this.height+"px",this.mapWidth="100%",this.mapContainer.style="\n    height: ".concat(this.mapHeight,";\n    width: ").concat(this.mapWidth,";\n  ")};var h=f,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.marker?n("v-dialog",{attrs:{"max-width":"600"},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[n("v-card-text",[n("h4",[e._v("Actual")])]),n("v-card-text",{style:{color:e.validated?"#090":"#333"}},[e._v(" "+e._s(e.marker.address)+" ")]),n("v-card-text",{staticClass:"text-center"},[n("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("tbody",[n("tr",[n("td",{staticClass:"text-left"},[n("b",[e._v("lat:")])]),n("td",{staticClass:"text-right"},[e._v(e._s(e.marker.coordinates[1]))]),n("td",{staticClass:"text-left"},[n("b",[e._v("lng:")])]),n("td",{staticClass:"text-right"},[e._v(e._s(e.marker.coordinates[0]))])])])]},proxy:!0}],null,!1,4107589069)})],1),n("v-card-text",[n("h4",[e._v("Formatted")])]),n("v-card-text",{style:{color:e.error?"#a00":"#09b"}},[e._v(" "+e._s(e.formattedAddress)+" ")]),n("v-card-text",{staticClass:"text-center"},[n("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("tbody",[n("tr",[n("td",{staticClass:"text-left"},[n("b",[e._v("lat:")])]),n("td",{staticClass:"text-right"},[e._v(e._s(e.formattedCoordinates[1]))]),n("td",{staticClass:"text-left"},[n("b",[e._v("lng:")])]),n("td",{staticClass:"text-right"},[e._v(e._s(e.formattedCoordinates[0]))])])])]},proxy:!0}],null,!1,559407117)})],1),n("v-card",{staticClass:"mx-auto"},[n("v-card-text",[n("h4",[e._v("Details for search:")])]),n("v-card-text",{staticClass:"text-center"},[n("v-simple-table",{attrs:{dense:"",dark:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("tbody",[n("tr",[n("td",{staticClass:"text-left"},[e._v("Street")]),n("td",{staticClass:"text-right"},[e._v(e._s(e.properties.number)+" "+e._s(e.properties.street))])]),n("tr",[n("td",{staticClass:"text-left"},[e._v("City")]),n("td",{staticClass:"text-right"},[e._v(e._s(e.properties.city))])]),n("tr",[n("td",{staticClass:"text-left"},[e._v("Administrative area")]),n("td",{staticClass:"text-right"},[e._v(e._s(e.properties.admin))])]),n("tr",[n("td",{staticClass:"text-left"},[e._v("State")]),n("td",{staticClass:"text-right"},[e._v(e._s(e.properties.state))])]),n("tr",[n("td",{staticClass:"text-left"},[e._v("Postal code")]),n("td",{staticClass:"text-right"},[e._v(e._s(e.properties.postCode))])])])]},proxy:!0}],null,!1,3211577025)})],1)],1),n("v-bottom-navigation",{attrs:{absolute:""}},[e.updateAll||e.finished||e.marker.address===e.formattedAddress?e._e():n("Button",{attrs:{text:"UPDATE",clicked:e.replace,color:"#333"},on:{"update:clicked":function(t){e.replace=t}}}),e.updateAll||e.finished?e._e():n("Button",{attrs:{text:"NEXT",clicked:e.nextStep,color:"#333"},on:{"update:clicked":function(t){e.nextStep=t}}}),n("Button",{attrs:{text:"CANCEL",clicked:e.close,color:"#333"},on:{"update:clicked":function(t){e.close=t}}})],1)],1):e._e()},g=[],b=(n("7db0"),n("ac1f"),n("3ca3"),n("5319"),n("ddb0"),n("d7a8"),n("8868")),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticStyle:{"margin-right":"8px"},attrs:{large:"",outlined:"","retain-focus-on-click":"",text:"",color:e.color||"#fff"},on:{click:function(t){return t.stopPropagation(),e.$emit("update:clicked",!0)}}},[e._v(" "+e._s(e.text)+" ")])},x=[],k={name:"Button",props:["text","clicked","color"]},I=k,C=n("2877"),_=n("6544"),O=n.n(_),S=n("8336"),w=Object(C["a"])(I,y,x,!1,null,null,null),B=w.exports;O()(w,{VBtn:S["a"]});var P={name:"Diagnostics",components:{Button:B},props:["types","finished","opened"],data:function(){return{markerId:"",marker:null,properties:sessionStorage.getItemByName("emptyProperties"),replace:!1,ready:!1,nextStep:!1,updateAll:!1,close:!1,formattedAddress:"",formattedCoordinates:["",""],syncIterator:null,asyncIterator:null,error:null}},computed:{validated:function(){return!!this.marker.properties}},watch:{replace:function(e){e&&(this.updateMarkerData(),this.replace=!1)},nextStep:function(e){(e||this.updateAll)&&(this.step(),this.nextStep=!1)},updateAll:function(e){e&&this.replaceAll()},close:function(e){e&&this.$emit("update:opened",!1)}},methods:{replaceAll:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,i,a,s,r,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.close){t.next=2;break}return t.abrupt("break",37);case 2:return t.next=4,e.asyncIterator.next();case 4:if(n=t.sent,i=n.value,a=n.done,!i){t.next=36;break}if(e.markerId=i.markerId,e.marker=i.marker,!e.marker.properties){t.next=15;break}return e.formattedAddress=e.marker.address,e.formattedCoordinates=e.marker.coordinates,e.properties=e.marker.properties,t.abrupt("continue",36);case 15:return t.prev=15,t.next=18,e.validateAddress();case 18:s=t.sent,r=s.formattedAddress,o=s.formattedCoordinates,l=s.properties,e.formattedAddress=r,e.formattedCoordinates=o,e.properties=l,e.updateMarkerData(),t.next=36;break;case 28:return t.prev=28,t.t0=t["catch"](15),console.warn(t.t0),e.error=!0,e.formattedAddress=t.t0,e.formattedCoordinates="",e.properties=sessionStorage.getItemByName("emptyProperties"),t.abrupt("break",37);case 36:if(!a){t.next=0;break}case 37:e.$emit("update:finished",!0);case 38:case"end":return t.stop()}}),t,null,[[15,28]])})))()},step:function(){var e=this,t=this.syncIterator.next(),n=t.value,i=t.done;i&&this.$emit("update:finished",!0),this.marker=n,this.validateAddress().then((function(t){e.formattedAddress=t.formattedAddress,e.formattedCoordinates=t.formattedCoordinates,e.properties=t.properties}))},updateMarkerData:function(){this.marker={address:this.formattedAddress,coordinates:this.formattedCoordinates,type:this.marker.type,properties:this.properties},localStorage.setItemByName(this.markerId,this.marker)},validateAddress:function(){var e=this.$parent.map.__geoCoder.geocode,t=this.marker.address;return new Promise((function(n,i){e({address:t},(function(e,t){if(this.ready="OK"===t,"OK"===t){var a=e[0].geometry.location,s=e[0].address_components.find((function(e){return"street_number"===e.types[0]})),r=e[0].address_components.find((function(e){return"route"===e.types[0]})),o=e[0].address_components.find((function(e){return"locality"===e.types[0]})),l=e[0].address_components.find((function(e){return"administrative_area_level_1"===e.types[0]})),d=e[0].address_components.find((function(e){return"administrative_area_level_2"===e.types[0]})),c=e[0].address_components.find((function(e){return"postal_code"===e.types[0]}));n({formattedAddress:e[0].formatted_address,formattedCoordinates:[a.lng(),a.lat()],properties:{number:s?s.short_name:"",street:r?r.short_name:"",city:o?o.short_name:"",state:l?l.short_name:"",admin:d?d.short_name:"",postCode:c?c.short_name:""}})}else i(t)}))}))}},mounted:function(){this.test=this.$parent.map.__geocode,this.syncIterator=regeneratorRuntime.mark((function e(){var t,n,i,a,s,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Object(d["a"])(this.types),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=26;break}i=n.value,a=localStorage.getItemByName(i),s=Object(d["a"])(a),e.prev=7,s.s();case 9:if((r=s.n()).done){e.next=16;break}return o=r.value,this.markerId=o,e.next=14,localStorage.getItemByName(o);case 14:e.next=9;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](7),s.e(e.t0);case 21:return e.prev=21,s.f(),e.finish(21);case 24:e.next=3;break;case 26:e.next=31;break;case 28:e.prev=28,e.t1=e["catch"](1),t.e(e.t1);case 31:return e.prev=31,t.f(),e.finish(31);case 34:case"end":return e.stop()}}),e,this,[[1,28,31,34],[7,18,21,24]])})).bind(this)(),this.asyncIterator=Object(b["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,s,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Object(d["a"])(this.types),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=24;break}i=n.value,a=localStorage.getItemByName(i),s=Object(d["a"])(a),e.prev=7,o=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.value,e.next=3,new Promise((function(e){setTimeout((function(){return e({markerId:t,marker:localStorage.getItemByName(t)})}),1e3)}));case 3:case"end":return e.stop()}}),e)})),s.s();case 10:if((r=s.n()).done){e.next=14;break}return e.delegateYield(o(),"t0",12);case 12:e.next=10;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](7),s.e(e.t1);case 19:return e.prev=19,s.f(),e.finish(19);case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t2=e["catch"](1),t.e(e.t2);case 29:return e.prev=29,t.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,this,[[1,26,29,32],[7,16,19,22]])}))).bind(this)(),this.nextStep=!0}},T=P,$=(n("9c19"),n("b81c")),D=n("b0af"),M=n("99d9"),A=n("169a"),V=n("1f4f"),R=Object(C["a"])(T,v,g,!1,null,null,null),N=R.exports;O()(R,{VBottomNavigation:$["a"],VCard:D["a"],VCardText:M["b"],VDialog:A["a"],VSimpleTable:V["a"]});var F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.ready||e.search?n("v-card",{staticClass:"mt-12"},[e.search?e._e():n("v-select",{staticClass:"mx-4",attrs:{items:e.types,label:"Type",outlined:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),n("v-card-text",{staticClass:"mx-auto px-auto"},[n("InputWithAutocomplete",{attrs:{address:e.buildingDescription.address,coordinates:e.buildingDescription.coordinates,properties:e.buildingDescription.addressComponents,search:e.search},on:{"update:address":function(t){return e.$set(e.buildingDescription,"address",t)},"update:coordinates":function(t){return e.$set(e.buildingDescription,"coordinates",t)},"update:properties":function(t){return e.$set(e.buildingDescription,"addressComponents",t)}}})],1),n("v-card-text",{staticClass:"text-center"},[n("h4",[e._v("Address components")])]),e.addressComponents?n("AddressDetails",{attrs:{number:e.addressComponents.number,street:e.addressComponents.street,city:e.addressComponents.city,state:e.addressComponents.state,admin:e.addressComponents.admin,postCode:e.addressComponents.postCode}}):e._e(),n("v-card-actions",[e.newMarkerButton?n("v-btn",{attrs:{text:""},on:{click:e.createNewBuilding}},[e._v(" Add this address ")]):e._e()],1)],1):e._e()},E=[],j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[e.search?n("v-card-text",{staticClass:"text-center"},[n("h3",[e._v("Search")])]):e._e(),n("v-card-text",{staticClass:"text-center"},[n("v-simple-table",{attrs:{dense:"","fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-center"}),n("th",{staticClass:"text-center"},[e._v("Lng")]),n("th",{staticClass:"text-center"},[e._v("Lat")])])]),n("tbody",[n("tr",[n("td",[n("p",[e._v("Coordinates:")])]),n("td",[n("p",[e._v(e._s(e.coordinates?e.coordinates[0]:""))])]),n("td",[n("p",[e._v(e._s(e.coordinates?e.coordinates[1]:""))])])])])]},proxy:!0}])})],1),n("v-card-text",[e.search?n("span",[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}})])]):e._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:e.localAddress,expression:"localAddress"}],staticClass:"input-field",style:{borderColor:e.borderColor},attrs:{id:"autocompleteAddress",placeholder:"Address"},domProps:{value:e.localAddress},on:{input:function(t){t.target.composing||(e.localAddress=t.target.value)}}}),n("v-card-text",[e.address?n("p",{staticStyle:{color:"#09b"}},[e._v(e._s(e.address))]):e._e(),e.message?n("p",{staticStyle:{color:"#f50"}},[e._v(e._s(e.message))]):e._e()])],1)],1)},L=[],U=(n("b0c0"),n("841c"),n("2909")),G=n("ade3"),H={name:"InputWithAutocomplete",props:["address","coordinates","properties","search"],data:function(){return{borderColor:"#bbb",message:"",map:null}},computed:{localAddress:{get:function(){return this.address},set:function(e){this.$emit("update:address",e)}}},methods:{initAutocomplete:function(){var e=0;return new Promise((function t(n,i){30===e++&&i(new Error("Error accessing Google maps API")),window.google&&document.getElementById("autocompleteAddress")?n({inputElement:document.getElementById("autocompleteAddress"),Autocomplete:window.google.maps.places.Autocomplete}):setTimeout((function(){return t(n,i)}),100)}))},getAddressComponents:function(e){var t=this;if(!e.geometry)return this.borderColor="#900",this.message="Invalid address",{street:"",locality:"",admin1:"",admin2:"",postCode:""};this.message="",this.$emit("update:address",e.formatted_address),this.$emit("update:coordinates",[e.geometry.location.lng(),e.geometry.location.lat()]);var n=[{name:"subnumber",value:"subpremise"},{name:"number",value:"street_number"},{name:"street",value:"route"},{name:"city",value:"locality"},{name:"state",value:"administrative_area_level_1"},{name:"admin",value:"administrative_area_level_2"},{name:"postCode",value:"postal_code"}].map((function(n){return Object(G["a"])({},n.name,t.getInfo(n.value,e.address_components))}));this.$emit("update:properties",Object.assign.apply(Object,[{}].concat(Object(U["a"])(n))))},getInfo:function(e,t){var n=t.find((function(t){return t.types[0]===e}));return n?n.short_name:""},initAddressInputField:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.initAutocomplete();case 3:n=t.sent,i=n.inputElement,a=n.Autocomplete,t.next=12;break;case 8:return t.prev=8,t.t0=t["catch"](0),console.warn(t.t0),t.abrupt("return");case 12:e.autocomplete=new a(i,{componentRestrictions:{country:"au"}}),e.autocomplete.addListener("place_changed",function(e){var t=this.autocomplete.getPlace();this.getAddressComponents(t);var n=t.geometry.location;if(this.$emit("update:coordinates",[n.lng(),n.lat()]),this.search){var i=localStorage.findMarker(t.formatted_address,[n.lng(),n.lat()]);i?(this.map.selectMarkerById(i.id),this.$emit("update:markerId",i.id)):this.map.setSearchMarker([n.lng(),n.lat()],t.formatted_address)}else{if(!this.markerId)return;this.$emit("update:address",this.localAddress),this.$emit("update:coordinates",[n.lng(),n.lat()]);var a=this.getAddressComponents(t);this.$emit("update:properties",a),this.$parent.map.changeMarkerAddress(this.markerId,t.formatted_address,n)}}.bind(e));case 14:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},mounted:function(){setTimeout(this.initAddressInputField.bind(this),1e3),this.map=this.$parent.$parent.$parent.map}},K=H,J=(n("1dd9"),Object(C["a"])(K,j,L,!1,null,null,null)),q=J.exports;O()(J,{VCard:D["a"],VCardText:M["b"],VSimpleTable:V["a"]});var Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-simple-table",{attrs:{dense:"",dark:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("tbody",[n("tr",[n("td",{staticClass:"text-left"},[n("b",[e._v("Street")])]),n("td",{staticClass:"text-right"},[e._v(e._s(e.number)+" "+e._s(e.street))])]),n("tr",[n("td",{staticClass:"text-left"},[n("b",[e._v("City")])]),n("td",{staticClass:"text-right"},[e._v(e._s(e.city))])]),n("tr",[n("td",{staticClass:"text-left"},[n("b",[e._v("State")])]),n("td",{staticClass:"text-right"},[e._v(e._s(e.state))])]),n("tr",[n("td",{staticClass:"text-left"},[n("b",[e._v("Administrative area")])]),n("td",{staticClass:"text-right"},[e._v(e._s(e.admin))])]),n("tr",[n("td",{staticClass:"text-left"},[n("b",[e._v("Postal code")])]),n("td",{staticClass:"text-right"},[e._v(e._s(e.postCode))])])])]},proxy:!0}])})},z=[],Z={name:"AddressDetails",props:["number","street","city","state","postCode","admin"]},W=Z,X=Object(C["a"])(W,Q,z,!1,null,"46b459f8",null),Y=X.exports;O()(X,{VSimpleTable:V["a"]});var ee={name:"AddressInfo",components:{InputWithAutocomplete:q,AddressDetails:Y},props:["buildingId","descriptionChanged","search"],data:function(){return{newBuilding:n("54c8").default,ready:!1,removeMarker:!1,newMarker:!1,saveChanges:!1,types:localStorage.buildingTypes,buildingDescription:null,autocomplete:null,message:"",first:"",second:"",third:"",addressDescriptionVisible:!1}},computed:{newMarkerButton:function(){return!this.buildingId&&!!this.buildingDescription.address&&!!this.buildingDescription.coordinates},type:{get:function(){return this.buildingId&&this.buildingDescription?this.buildingDescription.type:null},set:function(e){e&&(this.buildingDescription.type=e,localStorage.updateMarkerType(e),this.$root.$map[this.buildingId].type=e,Object.assign(this.buildingDescription,{type:e}))}},addressComponents:function(){return this.buildingDescription?this.buildingDescription.addressComponents:{address:"",addressComponents:{},coordinates:[]}}},watch:{addressComponents:{deep:!0,handler:function(e){this.buildingDescription&&this.buildingDescription.addressComponents&&Object.assign(this.buildingDescription.addressComponents,e)}},buildingDescription:{deep:!0,handler:function(e){e&&(localStorage.setItemByName("selectedBuilding",e),this.$emit("update:descriptionChanged",!0))}},buildingId:{immediate:!0,handler:function(e,t){this.ready=!1,e&&this.buildingId?(this.buildingDescription=localStorage.getItemByName("selectedBuilding"),this.ready=!0):this.buildingDescription=this.newBuilding}},newMarker:function(e){var t=this;if(e)return this.buildingDescription?void this.createNewBuilding().then((function(e){Object.assign(t.$parent,{selectedMarkerId:e._id,selectedMarker:e}),console.log(t.$parent);var n=t.$root.$map.placeMarker.bind(t.$root.$map);t.$root.$map[e._id]=n({id:e._id,address:e.address,coordinates:e.typecoordinates,type:e.type}),console.log(t.$root.$map[e._id]),t.$root.$map.selectMarkerById(e._id),t.newMarker=!1})):console.warn("Not available!")},removeMarker:function(e){e&&this.buildingId&&(this.$parent.map.removeMarker(this.buildingId),localStorage.removeBuilding(this.buildingId),this.removeMarker=!1,this.$emit("update:buildingId",void 0))},saveChanges:function(e){e&&this._saveBuilding(),this.saveChanges=!1}},methods:{createNewBuilding:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,i,a,s,r,o,l,d,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.newBuilding,Object.assign(n,e.buildingDescription,{type:e.buildingTypes.default}),t.next=4,e._createNewBuilding(n);case 4:if(n._id=t.sent,n._id){t.next=7;break}return t.abrupt("return");case 7:return i=n.address,a=n.addressComponents,s=n.buildingName,r=n.coordinates,o=n.distanceFromFootprint,l=n.type,d=n._id,localStorage.setItemByName(n._id,{address:i,addressComponents:a,buildingName:s,coordinates:r,distanceFromFootprint:o,type:l,_id:d}),c=e.$root.$map.placeMarker({address:i,coordinates:r,type:l,id:d}),console.log(c),e.$root.$map.selectedMarkerId=d,console.log(e.$root.$map.selectedMarkerId),t.abrupt("return",n);case 14:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){this.buildingDescription=this.buildingId?localStorage.getItemByName(this.buildingId):{}}},te=ee,ne=(n("ab06"),n("b974")),ie=Object(C["a"])(te,F,E,!1,null,null,null),ae=ie.exports;O()(ie,{VBtn:S["a"],VCard:D["a"],VCardActions:M["a"],VCardText:M["b"],VSelect:ne["a"]});var se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{staticClass:"pa-10",attrs:{persistent:"",light:"","max-width":"1000px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card-text",{staticClass:"text-center"},[n("h3",[e._v(e._s(e.description.address))])]),n("v-tabs",{attrs:{"background-color":"transparent",color:"basil",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v("GENERAL")]),n("v-tab",[e._v("OWNERS")]),n("v-tab",[e._v("MANAGEMENT")]),n("v-tab",[e._v("DOCS")]),n("v-tab",[e._v("IMAGES")]),n("v-tab",[e._v("INFRASTRUCTURE")])],1),n("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("TabOne",{attrs:{footprint:e.description.footprint,distanceFromFootprint:e.description.distanceFromFootprint,numberOfLevels:e.description.numberOfLevels,numberOfDwellings:e.description.numberOfDwellings,avgFloorHeight:e.description.avgFloorHeight,buildingType:e.description.buildingType,approval:e.description.approval,induction:e.description.induction,leadInInstallationDifficulty:e.description.difficultyLevel.leadInInstallation,backboneInstallationDifficulty:e.description.difficultyLevel.backboneInstallation,customerInstallationDifficulty:e.description.difficultyLevel.customerInstallation},on:{"update:footprint":function(t){return e.$set(e.description,"footprint",t)},"update:distanceFromFootprint":function(t){return e.$set(e.description,"distanceFromFootprint",t)},"update:distance-from-footprint":function(t){return e.$set(e.description,"distanceFromFootprint",t)},"update:numberOfLevels":function(t){return e.$set(e.description,"numberOfLevels",t)},"update:number-of-levels":function(t){return e.$set(e.description,"numberOfLevels",t)},"update:numberOfDwellings":function(t){return e.$set(e.description,"numberOfDwellings",t)},"update:number-of-dwellings":function(t){return e.$set(e.description,"numberOfDwellings",t)},"update:avgFloorHeight":function(t){return e.$set(e.description,"avgFloorHeight",t)},"update:avg-floor-height":function(t){return e.$set(e.description,"avgFloorHeight",t)},"update:buildingType":function(t){return e.$set(e.description,"buildingType",t)},"update:building-type":function(t){return e.$set(e.description,"buildingType",t)},"update:approval":function(t){return e.$set(e.description,"approval",t)},"update:induction":function(t){return e.$set(e.description,"induction",t)},"update:leadInInstallationDifficulty":function(t){return e.$set(e.description.difficultyLevel,"leadInInstallation",t)},"update:lead-in-installation-difficulty":function(t){return e.$set(e.description.difficultyLevel,"leadInInstallation",t)},"update:backboneInstallationDifficulty":function(t){return e.$set(e.description.difficultyLevel,"backboneInstallation",t)},"update:backbone-installation-difficulty":function(t){return e.$set(e.description.difficultyLevel,"backboneInstallation",t)},"update:customerInstallationDifficulty":function(t){return e.$set(e.description.difficultyLevel,"customerInstallation",t)},"update:customer-installation-difficulty":function(t){return e.$set(e.description.difficultyLevel,"customerInstallation",t)}}})],1)],1),n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("TabsTwoAndThree",{attrs:{name:e.description.owner.name,email:e.description.owner.email,phone:e.description.owner.phone,address:e.description.owner.address,person:e.description.owner.contactPerson},on:{"update:name":function(t){return e.$set(e.description.owner,"name",t)},"update:email":function(t){return e.$set(e.description.owner,"email",t)},"update:phone":function(t){return e.$set(e.description.owner,"phone",t)},"update:address":function(t){return e.$set(e.description.owner,"address",t)},"update:person":function(t){return e.$set(e.description.owner,"contactPerson",t)}}})],1)],1),n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("TabsTwoAndThree",{attrs:{name:e.description.management.name,email:e.description.management.email,phone:e.description.management.phone,address:e.description.management.address,person:e.description.management.contactPerson},on:{"update:name":function(t){return e.$set(e.description.management,"name",t)},"update:email":function(t){return e.$set(e.description.management,"email",t)},"update:phone":function(t){return e.$set(e.description.management,"phone",t)},"update:address":function(t){return e.$set(e.description.management,"address",t)},"update:person":function(t){return e.$set(e.description.management,"contactPerson",t)}}})],1)],1),n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("TabFour",{attrs:{name:e.description.management.name,email:e.description.management.email,phone:e.description.management.phone,address:e.description.management.address,person:e.description.management.contactPerson},on:{"update:name":function(t){return e.$set(e.description.management,"name",t)},"update:email":function(t){return e.$set(e.description.management,"email",t)},"update:phone":function(t){return e.$set(e.description.management,"phone",t)},"update:address":function(t){return e.$set(e.description.management,"address",t)},"update:person":function(t){return e.$set(e.description.management,"contactPerson",t)}}})],1)],1),n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("TabFive",{attrs:{name:e.description.management.name,email:e.description.management.email,phone:e.description.management.phone,address:e.description.management.address,person:e.description.management.contactPerson},on:{"update:name":function(t){return e.$set(e.description.management,"name",t)},"update:email":function(t){return e.$set(e.description.management,"email",t)},"update:phone":function(t){return e.$set(e.description.management,"phone",t)},"update:address":function(t){return e.$set(e.description.management,"address",t)},"update:person":function(t){return e.$set(e.description.management,"contactPerson",t)}}})],1)],1),n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("TabSix",{attrs:{infrastructure:e.description.infrastructure},on:{"update:infrastructure":function(t){return e.$set(e.description,"infrastructure",t)}}})],1)],1)],1),n("v-bottom-navigation",{attrs:{absolute:""}},[n("Button",{attrs:{clicked:e.close,text:"CLOSE",color:"#333"},on:{"update:clicked":function(t){e.close=t}}})],1)],1)},re=[],oe=(n("b64b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-checkbox",{attrs:{label:"Footprint"},model:{value:e.fprint,callback:function(t){e.fprint=t},expression:"fprint"}})],1),n("v-col",{attrs:{cols:"6"}},[n("NumberInput",{attrs:{placeholder:"Distance from the footprint",value:e.distance},on:{"update:value":function(t){e.distance=t}}})],1)],1),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"4"}},[n("NumberInput",{attrs:{placeholder:"Number of Levels ",value:e.levels},on:{"update:value":function(t){e.levels=t}}})],1),n("v-col",{attrs:{cols:"4"}},[n("NumberInput",{attrs:{placeholder:"Number of dwellings",value:e.dwellings},on:{"update:value":function(t){e.dwellings=t}}})],1),n("v-col",{attrs:{cols:"4"}},[n("NumberInput",{attrs:{placeholder:"Avg Height of each floor",value:e.floorHeight},on:{"update:value":function(t){e.floorHeight=t}}})],1)],1),n("v-select",{staticClass:"combo-box-input",attrs:{items:e.buildingTypes,outlined:"","hide-details":"",label:"Building Type"},model:{value:e.building,callback:function(t){e.building=t},expression:"building"}}),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-checkbox",{attrs:{label:"Customer Install requires approval"},model:{value:e.approvalRequired,callback:function(t){e.approvalRequired=t},expression:"approvalRequired"}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-checkbox",{attrs:{label:"Induction required"},model:{value:e.inductionRequired,callback:function(t){e.inductionRequired=t},expression:"inductionRequired"}})],1)],1),n("Difficulty",{attrs:{difficulty:e.leadInInstallation,label:"Lead-In Installation Difficulty"},on:{"update:difficulty":function(t){e.leadInInstallation=t}}}),n("Difficulty",{attrs:{difficulty:e.backboneInstallation,label:"Backbone Installation Difficulty"},on:{"update:difficulty":function(t){e.backboneInstallation=t}}}),n("Difficulty",{attrs:{difficulty:e.customerInstallation,label:"Customer Installation Difficulty"},on:{"update:difficulty":function(t){e.customerInstallation=t}}})],1)}),le=[],de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-text-field",{staticClass:"user-inputs",attrs:{label:e.placeholder,placeholder:e.placeholder,error:e.error,outlined:"","hide-details":"",height:"32",color:e.color,"append-icon":e.validationIcon},on:{input:function(t){return e.validate(t)}},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}})},ce=[],ue=(n("466d"),{name:"NumberInput",props:["placeholder","value","error"],data:function(){return{normalColor:"#656565",errorColor:"#FF0E00",validColor:"#4CAF50",color:"#656565",validationIcon:"",available:null}},computed:{result:{get:function(){return this.value},set:function(e){this.$emit("update:value",e)}}},methods:{validate:function(e){var t=!e.match(/^[0-9]*$/);this.$emit("update:error",t),this.color=t?this.errorColor:this.validColor,this.validationIcon=t?"$invalid":""}}}),pe=ue,me=(n("ff54"),n("8654")),fe=Object(C["a"])(pe,de,ce,!1,null,"547ed3fd",null),he=fe.exports;O()(fe,{VTextField:me["a"]});var ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{staticClass:"text-center mx-auto"},[n("v-col",{attrs:{cols:"5"}},[n("div",[n("span",{staticClass:"caption text-uppercase"},[e._v(e._s(e.label)+":")]),n("span",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e.level)+" ")])]),n("v-slider",{attrs:{color:"blue darken-4",min:"1",max:"10"},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}})],1),n("v-col",{attrs:{cols:"7"}},[n("v-rating",{attrs:{length:"10","full-icon":"mdi-hammer-screwdriver","empty-icon":"mdi-hammer-screwdriver",color:"red lighten-3","background-color":"grey lighten-1",label:e.label},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}})],1)],1)},ge=[],be={name:"Difficulty",props:["difficulty","label"],data:function(){return{level:this.difficulty||1}},watch:{level:function(e){this.$emit("update:difficulty",e)}},mounted:function(){this.level=this.difficulty}},ye=be,xe=n("62ad"),ke=n("1d4d"),Ie=n("0fd9"),Ce=n("ba0d"),_e=Object(C["a"])(ye,ve,ge,!1,null,null,null),Oe=_e.exports;O()(_e,{VCol:xe["a"],VRating:ke["a"],VRow:Ie["a"],VSlider:Ce["a"]});var Se={name:"TabOne",components:{NumberInput:he,Difficulty:Oe},props:["footprint","distanceFromFootprint","numberOfLevels","numberOfDwellings","avgFloorHeight","buildingType","approval","induction","leadInInstallationDifficulty","backboneInstallationDifficulty","customerInstallationDifficulty"],data:function(){return{buildingTypes:["Shopping center","High-rise building","Business park","Other"]}},computed:{fprint:{get:function(){return this.footprint},set:function(e){this.$emit("update:footprint",e)}},distance:{get:function(){return this.distanceFromFootprint},set:function(e){this.$emit("update:distanceFromFootprint",e)}},levels:{get:function(){return this.numberOfLevels},set:function(e){this.$emit("update:numberOfLevels",e)}},dwellings:{get:function(){return this.numberOfDwellings},set:function(e){this.$emit("update:numberOfDwellings",e)}},floorHeight:{get:function(){return this.avgFloorHeight},set:function(e){this.$emit("update:avgFloorHeight",e)}},building:{get:function(){return this.buildingType},set:function(e){this.$emit("update:buildingType",e)}},approvalRequired:{get:function(){return this.approval},set:function(e){this.$emit("update:approval",e)}},inductionRequired:{get:function(){return this.induction},set:function(e){this.$emit("update:induction",e)}},leadInInstallation:{get:function(){return this.leadInInstallationDifficulty},set:function(e){this.$emit("update:leadInInstallationDifficulty",e)}},backboneInstallation:{get:function(){return this.backboneInstallationDifficulty},set:function(e){this.$emit("update:backboneInstallationDifficulty",e)}},customerInstallation:{get:function(){return this.customerInstallationDifficulty},set:function(e){this.$emit("update:customerInstallationDifficulty",e)}}}},we=Se,Be=n("ac7c"),Pe=n("a523"),Te=Object(C["a"])(we,oe,le,!1,null,null,null),$e=Te.exports;O()(Te,{VCheckbox:Be["a"],VCol:xe["a"],VContainer:Pe["a"],VRow:Ie["a"],VSelect:ne["a"]});var De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-text-field",{attrs:{placeholder:"Name",outlined:"","hide-details":""},model:{value:e.theName,callback:function(t){e.theName=t},expression:"theName"}}),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{placeholder:"Email",outlined:"","hide-details":""},model:{value:e.theEmail,callback:function(t){e.theEmail=t},expression:"theEmail"}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{placeholder:"Phone",outlined:"","hide-details":""},model:{value:e.thePhone,callback:function(t){e.thePhone=t},expression:"thePhone"}})],1)],1),n("v-row",{staticClass:"my-2"},[n("v-text-field",{attrs:{placeholder:"Address",outlined:"","hide-details":""},model:{value:e.theAddress,callback:function(t){e.theAddress=t},expression:"theAddress"}})],1),n("v-row",{staticClass:"my-2"},[n("v-text-field",{attrs:{placeholder:"Contact person",outlined:"","hide-details":""},model:{value:e.thePerson,callback:function(t){e.thePerson=t},expression:"thePerson"}})],1)],1)},Me=[],Ae={name:"TabTwo",props:["name","email","phone","address","person"],computed:{theName:{get:function(){return this.name},set:function(e){this.$emit("update:name",e)}},theEmail:{get:function(){return this.email},set:function(e){this.$emit("update:email",e)}},thePhone:{get:function(){return this.phone},set:function(e){this.$emit("update:phone",e)}},theAddress:{get:function(){return this.address},set:function(e){this.$emit("update:address",e)}},thePerson:{get:function(){return this.person},set:function(e){this.$emit("update:person",e)}}}},Ve=Ae,Re=Object(C["a"])(Ve,De,Me,!1,null,null,null),Ne=Re.exports;O()(Re,{VCol:xe["a"],VContainer:Pe["a"],VRow:Ie["a"],VTextField:me["a"]});var Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-text-field",{attrs:{placeholder:"Name",outlined:"","hide-details":""},model:{value:e.theName,callback:function(t){e.theName=t},expression:"theName"}}),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{placeholder:"Email",outlined:"","hide-details":""},model:{value:e.theEmail,callback:function(t){e.theEmail=t},expression:"theEmail"}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{placeholder:"Phone",outlined:"","hide-details":""},model:{value:e.thePhone,callback:function(t){e.thePhone=t},expression:"thePhone"}})],1)],1),n("v-row",{staticClass:"my-2"},[n("v-text-field",{attrs:{placeholder:"Address",outlined:"","hide-details":""},model:{value:e.theAddress,callback:function(t){e.theAddress=t},expression:"theAddress"}})],1),n("v-row",{staticClass:"my-2"},[n("v-text-field",{attrs:{placeholder:"Contact person",outlined:"","hide-details":""},model:{value:e.thePerson,callback:function(t){e.thePerson=t},expression:"thePerson"}})],1)],1)},Ee=[],je={name:"TabTwo",props:["name","email","phone","address","person"],computed:{theName:{get:function(){return this.name},set:function(e){this.$emit("update:name",e)}},theEmail:{get:function(){return this.email},set:function(e){this.$emit("update:email",e)}},thePhone:{get:function(){return this.phone},set:function(e){this.$emit("update:phone",e)}},theAddress:{get:function(){return this.address},set:function(e){this.$emit("update:address",e)}},thePerson:{get:function(){return this.person},set:function(e){this.$emit("update:person",e)}}}},Le=je,Ue=Object(C["a"])(Le,Fe,Ee,!1,null,null,null),Ge=Ue.exports;O()(Ue,{VCol:xe["a"],VContainer:Pe["a"],VRow:Ie["a"],VTextField:me["a"]});var He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-text-field",{attrs:{placeholder:"Name",outlined:"","hide-details":""},model:{value:e.theName,callback:function(t){e.theName=t},expression:"theName"}}),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{placeholder:"Email",outlined:"","hide-details":""},model:{value:e.theEmail,callback:function(t){e.theEmail=t},expression:"theEmail"}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{placeholder:"Phone",outlined:"","hide-details":""},model:{value:e.thePhone,callback:function(t){e.thePhone=t},expression:"thePhone"}})],1)],1),n("v-row",{staticClass:"my-2"},[n("v-text-field",{attrs:{placeholder:"Address",outlined:"","hide-details":""},model:{value:e.theAddress,callback:function(t){e.theAddress=t},expression:"theAddress"}})],1),n("v-row",{staticClass:"my-2"},[n("v-text-field",{attrs:{placeholder:"Contact person",outlined:"","hide-details":""},model:{value:e.thePerson,callback:function(t){e.thePerson=t},expression:"thePerson"}})],1)],1)},Ke=[],Je={name:"TabTwo",props:["name","email","phone","address","person"],computed:{theName:{get:function(){return this.name},set:function(e){this.$emit("update:name",e)}},theEmail:{get:function(){return this.email},set:function(e){this.$emit("update:email",e)}},thePhone:{get:function(){return this.phone},set:function(e){this.$emit("update:phone",e)}},theAddress:{get:function(){return this.address},set:function(e){this.$emit("update:address",e)}},thePerson:{get:function(){return this.person},set:function(e){this.$emit("update:person",e)}}}},qe=Je,Qe=Object(C["a"])(qe,He,Ke,!1,null,null,null),ze=Qe.exports;O()(Qe,{VCol:xe["a"],VContainer:Pe["a"],VRow:Ie["a"],VTextField:me["a"]});var Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-card-text",[n("h4",[e._v("Infrastructure Type:")]),n("v-text-field",{model:{value:e.infrastructure.type,callback:function(t){e.$set(e.infrastructure,"type",t)},expression:"infrastructure.type"}})],1),n("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[e._v("Name")]),n("th",{staticClass:"text-left"},[e._v("exist and usable")]),n("th",{staticClass:"text-left"},[e._v("planned")]),n("th",{staticClass:"text-left"},[e._v("installed")])])]),n("tbody",[n("tr",[n("td",[n("h4",[e._v("Lead-In")])]),n("td"),n("td",[n("v-checkbox",{model:{value:e.infrastructure.leadIn.planned,callback:function(t){e.$set(e.infrastructure.leadIn,"planned",t)},expression:"infrastructure.leadIn.planned"}})],1),n("td",[n("v-checkbox",{model:{value:e.infrastructure.leadIn.installed,callback:function(t){e.$set(e.infrastructure.leadIn,"installed",t)},expression:"infrastructure.leadIn.installed"}})],1)]),n("tr",[n("td",[n("h4",[e._v("Backbone")])]),n("td"),n("td",[n("v-checkbox",{model:{value:e.infrastructure.backbone.planned,callback:function(t){e.$set(e.infrastructure.backbone,"planned",t)},expression:"infrastructure.backbone.planned"}})],1),n("td",[n("v-checkbox",{model:{value:e.infrastructure.backbone.installed,callback:function(t){e.$set(e.infrastructure.backbone,"installed",t)},expression:"infrastructure.backbone.installed"}})],1)]),n("tr",[n("td",[n("h4",[e._v("Customer Access cabling")])]),n("td"),n("td",[n("v-checkbox",{model:{value:e.infrastructure.customerAccessCabling.planned,callback:function(t){e.$set(e.infrastructure.customerAccessCabling,"planned",t)},expression:"infrastructure.customerAccessCabling.planned"}})],1),n("td",[n("v-checkbox",{model:{value:e.infrastructure.customerAccessCabling.installed,callback:function(t){e.$set(e.infrastructure.customerAccessCabling,"installed",t)},expression:"infrastructure.customerAccessCabling.installed"}})],1)]),n("tr",[n("td",[n("h4",[e._v("GPO in MDF")])]),n("td",[n("v-checkbox",{model:{value:e.infrastructure.GPOinMDF.exist,callback:function(t){e.$set(e.infrastructure.GPOinMDF,"exist",t)},expression:"infrastructure.GPOinMDF.exist"}})],1),n("td",[n("v-checkbox",{model:{value:e.infrastructure.GPOinMDF.planned,callback:function(t){e.$set(e.infrastructure.GPOinMDF,"planned",t)},expression:"infrastructure.GPOinMDF.planned"}})],1),n("td",[n("v-checkbox",{model:{value:e.infrastructure.GPOinMDF.installed,callback:function(t){e.$set(e.infrastructure.GPOinMDF,"installed",t)},expression:"infrastructure.GPOinMDF.installed"}})],1)]),n("tr",[n("td",[n("h4",[e._v("UPS in MDF")])]),n("td"),n("td",[n("v-checkbox",{model:{value:e.infrastructure.UPSinMDF.planned,callback:function(t){e.$set(e.infrastructure.UPSinMDF,"planned",t)},expression:"infrastructure.UPSinMDF.planned"}})],1),n("td",[n("v-checkbox",{model:{value:e.infrastructure.UPSinMDF.installed,callback:function(t){e.$set(e.infrastructure.UPSinMDF,"installed",t)},expression:"infrastructure.UPSinMDF.installed"}})],1)]),n("tr",[n("td",[n("h4",[e._v("GPO in risers")])]),n("td",[n("v-checkbox",{model:{value:e.infrastructure.GPOinRisers.exist,callback:function(t){e.$set(e.infrastructure.GPOinRisers,"exist",t)},expression:"infrastructure.GPOinRisers.exist"}})],1),n("td",[n("v-checkbox",{model:{value:e.infrastructure.GPOinRisers.planned,callback:function(t){e.$set(e.infrastructure.GPOinRisers,"planned",t)},expression:"infrastructure.GPOinRisers.planned"}})],1),n("td",[n("v-checkbox",{model:{value:e.infrastructure.GPOinRisers.installed,callback:function(t){e.$set(e.infrastructure.GPOinRisers,"installed",t)},expression:"infrastructure.GPOinRisers.installed"}})],1)]),n("tr",[n("td",[n("h4",[e._v("UPS in risers")])]),n("td"),n("td",[n("v-checkbox",{model:{value:e.infrastructure.UPSinRisers.planned,callback:function(t){e.$set(e.infrastructure.UPSinRisers,"planned",t)},expression:"infrastructure.UPSinRisers.planned"}})],1),n("td",[n("v-checkbox",{model:{value:e.infrastructure.UPSinRisers.installed,callback:function(t){e.$set(e.infrastructure.UPSinRisers,"installed",t)},expression:"infrastructure.UPSinRisers.installed"}})],1)])])]},proxy:!0}])})],1)},We=[],Xe={name:"TabSix",props:["infrastructure"],mounted:function(){console.log(this.infrastructure)},watch:{infrastructure:{deep:!0,handler:function(e,t){this.$emit("update:infrastructure",Object.assign({},e))}}}},Ye=Xe,et=Object(C["a"])(Ye,Ze,We,!1,null,null,null),tt=et.exports;O()(et,{VCardText:M["b"],VCheckbox:Be["a"],VContainer:Pe["a"],VSimpleTable:V["a"],VTextField:me["a"]});var nt={name:"BuildingDescription",components:{TabOne:$e,TabsTwoAndThree:Ne,TabFour:Ge,TabFive:ze,TabSix:tt,Button:B},props:["dialog","markerId","save","descriptionChanged"],data:function(){return{tab:null,ready:!1,description:null,close:!1,owners:!1,management:!1,levelsInfo:!1}},watch:{descriptionChanged:function(e){e&&this.getBuildingDescription(),this.$emit("update:descriptionChanged",!1)},description:{deep:!0,handler:function(e){this.ready=!!e}},close:function(e){this.$emit("update:dialog",!1),this.close=!1}},methods:{saveBuildingDescription:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:sessionStorage.setItem("description",JSON.stringify({id:e.markerId,description:e.description})),e.$emit("update:save",!0);case 2:case"end":return t.stop()}}),t)})))()},getBuildingDescription:function(){var e=n("65a1").default,t=sessionStorage.getItemByName("description").description;Object.keys(e).forEach((function(n){t[n]||(t[n]=e[n])})),this.description=t}},beforeMount:function(){this.getBuildingDescription(),this.ready=!0}},it=nt,at=(n("332e"),n("71a3")),st=n("c671"),rt=n("fe57"),ot=n("aac8"),lt=Object(C["a"])(it,se,re,!1,null,null,null),dt=lt.exports;O()(lt,{VBottomNavigation:$["a"],VCard:D["a"],VCardText:M["b"],VDialog:A["a"],VTab:at["a"],VTabItem:st["a"],VTabs:rt["a"],VTabsItems:ot["a"]});var ct={name:"Buildings",components:{Diagnostics:N,AddressInfo:ae,BuildingDescription:dt,Button:B},props:["buildingSelected"],data:function(){return{container:null,map:null,ready:!1,diagnostics:!1,diagnosticsDone:!1,selectedBuildingId:null,selectedBuilding:null,newMarker:!1,description:null,buildingDescriptionVisible:!1,showAddressLevels:!1,descriptionChanged:!1}},computed:{search:{get:function(){return!this.selectedBuildingId},set:function(e){e&&(this.selectedBuildingId=null,this.map.resetSelectedMarker())}},save:{get:function(){return this.saveData},set:function(e){this.$emit("update:saveData",e)}},mapIsReady:function(){return this.ready&&this.map&&this.Autocomplete}},watch:{selectedBuildingId:function(e){console.log("SELECTED BUILDING CHANGED:\n",e)},newMarker:function(e){e&&(this.map.placeMarker(e),this.newMarker=!1)},diagnosticsDone:function(e){e&&(this.diagnostics=!1)},descriptionChanged:function(e){if(e){var t=sessionStorage.getItemByName("description"),n=t.description;this.description=n,this.buildingDescriptionChanged=!1}}},methods:{readyCallback:function(e){this.ready=!0},selectedBuildingCallback:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.details.id){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,t._getBuildingDetails(e.details.id);case 4:i=n.sent,t.description=i,t.selectedBuildingId=e.details.id,localStorage.setItemByName("selectedBuilding",i),t.$emit("update:buildingSelected",!0);case 9:case"end":return n.stop()}}),n)})))()},resetSelectedBuildingCallback:function(e){this.selectedBuilding=null,localStorage.setItemByName("selectedBuilding",null),this.$emit("update:buildingSelected",!1)},emptySpaceClick:function(e){this.selectedBuildingId=void 0,this.selectedBuilding=null,localStorage.setItemByName("selectedBuilding",null),this.$emit("update:buildingSelected",!1)},initMap:function(){var e=document.getElementById("dgtek-container-for-map");e?this.container=e:(this.container=document.body.appendChild(document.createElement("div")),this.container.id="dgtek-container-for-map"),this.container.addEventListener("map-is-ready",this.readyCallback.bind(this)),this.container.addEventListener("marker-selected",this.selectedBuildingCallback.bind(this)),this.container.addEventListener("reset-selected-marker",this.resetSelectedBuildingCallback.bind(this)),this.container.addEventListener("empty-field-click",this.emptySpaceClick),this.container.addEventListener("new-marker",this.addNewMarker),this.map=new h({container:this.container,width:window.innerWidth/1.5,height:700,center:{lat:-37.8357725,lng:144.9738764}}),this.$root.$map=this.map,this.container.addEventListener("marker-type-changed",this.map.changeMarkerType.bind(this.map)),this.container.addEventListener("marker-address-changed",this.map.changeMarkerAddress.bind(this.map)),this.container.addEventListener("marker-coordinates-changed",this.map.changeMarkerCoordinates.bind(this.map)),this.ready=!0}},beforeMount:function(){},mounted:function(){window.addEventListener("data-ready",this.initMap),console.log(this.$role)}},ut=ct,pt=Object(C["a"])(ut,r,o,!1,null,"f5a064f0",null),mt=pt.exports;O()(pt,{VCol:xe["a"],VContainer:Pe["a"],VRow:Ie["a"]});var ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-card",{staticClass:"transparent",attrs:{flat:""}},[n("v-data-table",{staticClass:"elevation-1 pa-8",attrs:{headers:e.headers,items:e.items,"item-key":"_id","single-expand":!0,expanded:e.expanded,"show-expand":"",dence:""},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:""}},[n("v-toolbar-title",[n("h5",[e._v("List Of Buildings")])]),n("v-spacer"),n("EditListItem",{attrs:{opened:e.dialog,editedItem:e.editedItem,save:e.saveBuilding},on:{"update:opened":function(t){e.dialog=t},"update:editedItem":function(t){e.editedItem=t},"update:edited-item":function(t){e.editedItem=t},"update:save":function(t){e.saveBuilding=t}}}),n("PopupDelete",{attrs:{opened:e.dialogDelete,delete:e.deleteConfirmed},on:{"update:opened":function(t){e.dialogDelete=t},"update:delete":function(t){e.deleteConfirmed=t}}})],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[n("v-icon",{staticClass:"mr-4",attrs:{color:e.getColor(i.type)}},[e._v(e._s(e.getIcon(i.type)))]),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}},{key:"body.append",fn:function(){return[n("tr",[n("td",{attrs:{width:"140"}},[n("v-text-field",{attrs:{type:"string",outlined:"","hide-details":"","append-icon":"mdi-magnify"},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}})],1),n("td",{attrs:{width:"120"}},[n("v-text-field",{attrs:{type:"string",outlined:"","hide-details":"","append-icon":"mdi-magnify"},model:{value:e.postcode,callback:function(t){e.postcode=t},expression:"postcode"}})],1),n("td",{attrs:{width:"240"}},[n("v-text-field",{attrs:{type:"string",outlined:"","hide-details":"","append-icon":"mdi-magnify"},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}})],1),n("td",{attrs:{width:"240"}},[n("v-text-field",{attrs:{type:"string",outlined:"","hide-details":"","append-icon":"mdi-magnify"},model:{value:e.street,callback:function(t){e.street=t},expression:"street"}})],1)])]},proxy:!0},{key:"expanded-item",fn:function(t){var i=t.headers,a=t.item;return[n("td",{staticClass:"pa-10",attrs:{colspan:i.length}},[n("v-icon",{attrs:{color:e.getColor(a.type)}},[e._v(" "+e._s(e.getIcon(a.type))+" ")]),n("span",[e._v(e._s(a.type))]),n("p",[e._v(e._s(a.buildingName))])],1)]}}])})],1)],1)},ht=[],vt=(n("c975"),n("a434"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":"480px"},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",{staticClass:"text-center"},[n("h4",[e._v("Are you sure you want to delete"),n("br"),e._v("this building?")])]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"#09b",text:""},on:{click:function(t){return e.$emit("update:opened",!1)}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"#09b",text:""},on:{click:e.confirmDelete}},[e._v("OK")]),n("v-spacer")],1)],1)],1)}),gt=[],bt={name:"PopupDelete",props:["opened","delete"],methods:{confirmDelete:function(){this.$emit("update:delete",!0),this.$emit("update:opened",!1)}}},yt=bt,xt=n("2fa4"),kt=Object(C["a"])(yt,vt,gt,!1,null,null,null),It=kt.exports;O()(kt,{VBtn:S["a"],VCard:D["a"],VCardActions:M["a"],VCardText:M["b"],VDialog:A["a"],VSpacer:xt["a"]});var Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":"480px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({staticClass:"mb-2",attrs:{color:"#09b",text:""}},i),[e._v(" New Building ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",{attrs:{flat:""}},[n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.$emit("update:opened",!1)}}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("v-card-text",[n("v-text-field",{attrs:{label:"Postal code"},model:{value:e.postCode,callback:function(t){e.postCode=t},expression:"postCode"}})],1),n("v-card-text",[n("v-text-field",{attrs:{label:"State"},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}})],1),n("v-card-text",[n("v-text-field",{attrs:{label:"City"},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}})],1),n("v-card-text",[n("v-text-field",{attrs:{label:"Street name"},model:{value:e.street,callback:function(t){e.street=t},expression:"street"}})],1),n("v-card-text",[n("v-text-field",{attrs:{label:"Street number"},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}})],1),n("v-card-text",[n("v-text-field",{attrs:{label:"Building Name"},model:{value:e.buildingName,callback:function(t){e.buildingName=t},expression:"buildingName"}})],1),n("v-select",{attrs:{items:e.buildingTypes,label:"Type"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"#09b",text:""},on:{click:e.saveCallback}},[e._v(" Save ")])],1)],1)],1)},_t=[],Ot={name:"EditListItem",props:["opened","editedItem","save"],computed:{dialog:{get:function(){return this.opened},set:function(e){this.$emit("update:opened",e)}},postCode:{get:function(){return this.editedItem.postCode},set:function(e){this.$emit("update:editedItem",Object.assign(this.editedItem,{postCode:e}))}},state:{get:function(){return this.editedItem.state},set:function(e){this.$emit("update:editedItem",Object.assign(this.editedItem,{state:e}))}},city:{get:function(){return this.editedItem.city},set:function(e){this.$emit("update:editedItem",Object.assign(this.editedItem,{city:e}))}},street:{get:function(){return this.editedItem.street},set:function(e){this.$emit("update:editedItem",Object.assign(this.editedItem,{street:e}))}},number:{get:function(){return this.editedItem.number},set:function(e){this.$emit("update:editedItem",Object.assign(this.editedItem,{number:e}))}},buildingName:{get:function(){return this.editedItem.buildingName},set:function(e){this.$emit("update:editedItem",Object.assign(this.editedItem,{buildingName:e}))}},type:{get:function(){return this.editedItem.type},set:function(e){this.$emit("update:editedItem",Object.assign(this.editedItem,{type:e}))}}},methods:{saveCallback:function(){this.$emit("update:save",!0),this.$emit("update:opened",!1)}}},St=Ot,wt=n("132d"),Bt=Object(C["a"])(St,Ct,_t,!1,null,null,null),Pt=Bt.exports;O()(Bt,{VBtn:S["a"],VCard:D["a"],VCardActions:M["a"],VCardText:M["b"],VDialog:A["a"],VIcon:wt["a"],VSelect:ne["a"],VSpacer:xt["a"],VTextField:me["a"]});var Tt={name:"ListOfBuildings",components:{PopupDelete:It,EditListItem:Pt},data:function(){return{dialog:!1,dialogDelete:!1,deleteConfirmed:!1,saveBuilding:!1,expanded:[],items:localStorage.getAllBuildings().map((function(e){return Object.assign(e.addressComponents,{_id:e._id,buildingName:e.buildingName,type:e.type})})),search:"",postcode:"",state:"",city:"",street:"",editedIndex:-1,editedItem:{},defaultItem:{city:"",postCode:"",state:"",street:"",number:1}}},computed:{headers:function(){var e=this;return[{text:"State",align:"start",sortable:!0,value:"state",filter:function(t){return!e.state||-1!==t.toLowerCase().indexOf(e.state.toLowerCase())}},{text:"Postal Code",value:"postCode",filter:function(t){return!e.postcode||t===e.postcode}},{text:"City",value:"city",filter:function(t){return!e.city||-1!==t.toLowerCase().indexOf(e.city.toLowerCase())}},{text:"Street Name",value:"street",filter:function(t){return!e.street||-1!==t.toLowerCase().indexOf(e.street.toLowerCase())}},{text:"Street Number",value:"number"},{text:"Connection",value:"connect",sortable:!1},{text:"Actions",value:"actions",sortable:!1},{text:"",value:"data-table-expand"}]}},watch:{dialog:function(e){e||this.close()},deleteConfirmed:function(e){e&&this.deleteBuilding()},saveBuilding:function(e){console.log("SAVE: ",e),e&&this.saveNewBuilding()}},methods:{getIcon:function(e){var t=this.buildingTypes.indexOf(e);return-1===t?(console.warn("Invalid Building Type: ",e),this.typeIcons.slice(-1)[0]):this.typeIcons[t]},getColor:function(e){var t=this.buildingTypes.indexOf(e);return-1===t?(console.warn("Invalid Building Type: ",e),this.typeColors.slice(-1)[0]):this.typeColors[t]},editItem:function(e){this.editedIndex=this.items.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){console.log(e),this.editedIndex=this.items.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteBuilding:function(){var e=this;console.log(this.items[this.editedIndex]._id),this._deleteBuilding(this.items[this.editedIndex]._id),this.items.splice(this.editedIndex,1),this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1})),this.dialogDelete=!1,this.deleteConfirmed=!1},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},saveNewBuilding:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var i,a,s,r,o,l,d,c,u,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(-1===e.editedIndex){t.next=4;break}Object.assign(e.items[e.editedIndex],e.editedItem),t.next=14;break;case 4:return i=e.editedItem,a=i.number,s=i.street,r=i.city,o=i.state,l=i.postCode,d=i.buildingName,c=i.type,u=n("54c8").default,Object.assign(u.addressComponents,{number:a,street:s,city:r,state:o,postCode:l}),Object.assign(u,{buildingName:d,type:c,address:"".concat(a," ").concat(s,", ").concat(r," ").concat(o," ").concat(l,", Australia")}),t.next=10,e._createNewBuilding(u);case 10:p=t.sent,localStorage.setItemByName("selectedBuilding",Object.assign(u,{_id:p})),e.items.push(Object.assign(e.editedItem,{_id:p})),localStorage.setItemByName(p,u);case 14:case"end":return t.stop()}}),t)})))()}}},$t=Tt,Dt=n("8fea"),Mt=n("71d9"),At=n("2a7f"),Vt=Object(C["a"])($t,ft,ht,!1,null,"3717b512",null),Rt=Vt.exports;O()(Vt,{VCard:D["a"],VContainer:Pe["a"],VDataTable:Dt["a"],VIcon:wt["a"],VSpacer:xt["a"],VTextField:me["a"],VToolbar:Mt["a"],VToolbarTitle:At["b"]});var Nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.ready?n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-toolbar",{attrs:{dark:"",color:"#444"}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){return e.$emit("update:opened",!1)}}},[n("v-icon",[e._v("mdi-close")])],1),n("v-toolbar-title",[e._v("Infrastructure")]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{text:""},on:{click:e.save}},[e._v("Save")])],1)],1),n("v-card",{staticClass:"ma-auto",attrs:{flat:""}},[e.ready?n("Infrastructure",{attrs:{infrastructure:e.infrastructure},on:{"update:infrastructure":function(t){e.infrastructure=t}}}):e._e()],1)],1)],1)],1):e._e()},Ft=[],Et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-card-text",[n("h4",[e._v("Infrastructure Type:")]),n("v-text-field",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),n("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[e._v("Name")]),n("th",{staticClass:"text-left"},[e._v("exist and usable")]),n("th",{staticClass:"text-left"},[e._v("planned")]),n("th",{staticClass:"text-left"},[e._v("installed")])])]),n("tbody",[n("tr",[n("td",[n("h4",[e._v("Lead-In")])]),n("td"),n("td",[n("v-checkbox",{model:{value:e.leadInPlanned,callback:function(t){e.leadInPlanned=t},expression:"leadInPlanned"}})],1),n("td",[n("v-checkbox",{model:{value:e.leadInInstalled,callback:function(t){e.leadInInstalled=t},expression:"leadInInstalled"}})],1)]),n("tr",[n("td",[n("h4",[e._v("Backbone")])]),n("td"),n("td",[n("v-checkbox",{model:{value:e.backbonePlanned,callback:function(t){e.backbonePlanned=t},expression:"backbonePlanned"}})],1),n("td",[n("v-checkbox",{model:{value:e.backboneInstalled,callback:function(t){e.backboneInstalled=t},expression:"backboneInstalled"}})],1)]),n("tr",[n("td",[n("h4",[e._v("Customer Access cabling")])]),n("td"),n("td",[n("v-checkbox",{model:{value:e.customerAccessCablingPlanned,callback:function(t){e.customerAccessCablingPlanned=t},expression:"customerAccessCablingPlanned"}})],1),n("td",[n("v-checkbox",{model:{value:e.customerAccessCablingInstalled,callback:function(t){e.customerAccessCablingInstalled=t},expression:"customerAccessCablingInstalled"}})],1)]),n("tr",[n("td",[n("h4",[e._v("GPO in MDF")])]),n("td",[n("v-checkbox",{model:{value:e.GPOinMDFExist,callback:function(t){e.GPOinMDFExist=t},expression:"GPOinMDFExist"}})],1),n("td",[n("v-checkbox",{model:{value:e.GPOinMDFPlanned,callback:function(t){e.GPOinMDFPlanned=t},expression:"GPOinMDFPlanned"}})],1),n("td",[n("v-checkbox",{model:{value:e.GPOinMDFInstalled,callback:function(t){e.GPOinMDFInstalled=t},expression:"GPOinMDFInstalled"}})],1)]),n("tr",[n("td",[n("h4",[e._v("UPS in MDF")])]),n("td"),n("td",[n("v-checkbox",{model:{value:e.UPSinMDFPlanned,callback:function(t){e.UPSinMDFPlanned=t},expression:"UPSinMDFPlanned"}})],1),n("td",[n("v-checkbox",{model:{value:e.UPSinMDFInstalled,callback:function(t){e.UPSinMDFInstalled=t},expression:"UPSinMDFInstalled"}})],1)]),n("tr",[n("td",[n("h4",[e._v("GPO in risers")])]),n("td",[n("v-checkbox",{model:{value:e.GPOinRisersExist,callback:function(t){e.GPOinRisersExist=t},expression:"GPOinRisersExist"}})],1),n("td",[n("v-checkbox",{model:{value:e.GPOinRisersPlanned,callback:function(t){e.GPOinRisersPlanned=t},expression:"GPOinRisersPlanned"}})],1),n("td",[n("v-checkbox",{model:{value:e.GPOinRisersInstalled,callback:function(t){e.GPOinRisersInstalled=t},expression:"GPOinRisersInstalled"}})],1)]),n("tr",[n("td",[n("h4",[e._v("UPS in risers")])]),n("td"),n("td",[n("v-checkbox",{model:{value:e.UPSinRisersPlanned,callback:function(t){e.UPSinRisersPlanned=t},expression:"UPSinRisersPlanned"}})],1),n("td",[n("v-checkbox",{model:{value:e.UPSinRisersInstalled,callback:function(t){e.UPSinRisersInstalled=t},expression:"UPSinRisersInstalled"}})],1)])])]},proxy:!0}])})],1)},jt=[],Lt={name:"Infrastructure",props:["infrastructure"],computed:{type:{get:function(){return this.infrastructure.type||""},set:function(e){this.$emit("update:infrastructure",Object.assign(this.infrastructure,{type:e}))}},leadInPlanned:{get:function(){return!!this.infrastructure.leadIn&&this.infrastructure.leadIn.planned},set:function(e){this.$emit("update:infrastructure",this.setValue("leadIn","planned",e))}},leadInInstalled:{get:function(){return!!this.infrastructure.leadIn&&this.infrastructure.leadIn.installed},set:function(e){this.$emit("update:infrastructure",this.setValue("leadIn","installed",e))}},backbonePlanned:{get:function(){return!!this.infrastructure.backbone&&this.infrastructure.backbone.planned},set:function(e){this.$emit("update:infrastructure",this.setValue("backbone","planned",e))}},backboneInstalled:{get:function(){return!!this.infrastructure.backbone&&this.infrastructure.backbone.installed},set:function(e){this.$emit("update:infrastructure",this.setValue("backbone","installed",e))}},customerAccessCablingPlanned:{get:function(){return!!this.infrastructure.customerAccessCabling&&this.infrastructure.customerAccessCabling.planned},set:function(e){this.$emit("update:infrastructure",this.setValue("customerAccessCabling","planned",e))}},customerAccessCablingInstalled:{get:function(){return!!this.infrastructure.customerAccessCabling&&this.infrastructure.customerAccessCabling.installed},set:function(e){this.$emit("update:infrastructure",this.setValue("customerAccessCabling","installed",e))}},GPOinMDFExist:{get:function(){return!!this.infrastructure.gPOinMDF&&this.infrastructure.gPOinMDF.exist},set:function(e){this.$emit("update:infrastructure",this.setValue("gPOinMDF","exist",e))}},GPOinMDFPlanned:{get:function(){return!!this.infrastructure.gPOinMDF&&this.infrastructure.gPOinMDF.planned},set:function(e){this.$emit("update:infrastructure",this.setValue("gPOinMDF","planned",e))}},GPOinMDFInstalled:{get:function(){return!!this.infrastructure.gPOinMDF&&this.infrastructure.gPOinMDF.installed},set:function(e){this.$emit("update:infrastructure",this.setValue("gPOinMDF","installed",e))}},UPSinMDFPlanned:{get:function(){return!!this.infrastructure.uPSinMD&&this.infrastructure.uPSinMDF.planned},set:function(e){this.$emit("update:infrastructure",this.setValue("uPSinMDF","planned",e))}},UPSinMDFInstalled:{get:function(){return!!this.infrastructure.uPSinMD&&this.infrastructure.uPSinMDF.installed},set:function(e){this.$emit("update:infrastructure",this.setValue("uPSinMDF","installed",e))}},GPOinRisersExist:{get:function(){return!!this.infrastructure.gPOinRisers&&this.infrastructure.gPOinRisers.exist},set:function(e){this.$emit("update:infrastructure",this.setValue("gPOinRisers","exist",e))}},GPOinRisersPlanned:{get:function(){return!!this.infrastructure.gPOinRisers&&this.infrastructure.gPOinRisers.planned},set:function(e){this.$emit("update:infrastructure",this.setValue("gPOinRisers","planned",e))}},GPOinRisersInstalled:{get:function(){return!!this.infrastructure.gPOinRisers&&this.infrastructure.gPOinRisers.installed},set:function(e){this.$emit("update:infrastructure",this.setValue("gPOinRisers","installed",e))}},UPSinRisersPlanned:{get:function(){return!!this.infrastructure.uPSinRisers&&this.infrastructure.uPSinRisers.planned},set:function(e){this.$emit("update:infrastructure",this.setValue("uPSinRisers","planned",e))}},UPSinRisersInstalled:{get:function(){return!!this.infrastructure.uPSinRisers&&this.infrastructure.uPSinRisers.installed},set:function(e){this.$emit("update:infrastructure",this.setValue("uPSinRisers","installed",e))}}},methods:{setValue:function(e,t,n){var i=JSON.parse(JSON.stringify(this.infrastructure));return i[e][t]=n,i}}},Ut=Lt,Gt=Object(C["a"])(Ut,Et,jt,!1,null,null,null),Ht=Gt.exports;O()(Gt,{VCardText:M["b"],VCheckbox:Be["a"],VContainer:Pe["a"],VSimpleTable:V["a"],VTextField:me["a"]});var Kt={name:"SiteServey",components:{Infrastructure:Ht},props:["opened"],data:function(){return{buildingData:null,ready:!1}},computed:{dialog:{get:function(){return this.opened},set:function(e){this.$emit("update:opened",e)}},infrastructure:{get:function(){return this.buildingData?this.buildingData.infrastructure:{}},set:function(e){console.log("INFRASTRUCTURE CHANGED:\n",e)}}},watch:{opened:function(e){e&&(this.buildingData=localStorage.getItemByName("selectedBuilding"),this.ready=!0)}},methods:{save:function(){localStorage.setItemByName("selectedBuilding",this.buildingData),this._saveBuilding(),this.$emit("update:opened",!1)}}},Jt=Kt,qt=n("a722"),Qt=Object(C["a"])(Jt,Nt,Ft,!1,null,null,null),zt=Qt.exports;O()(Qt,{VBtn:S["a"],VCard:D["a"],VDialog:A["a"],VIcon:wt["a"],VLayout:qt["a"],VSpacer:xt["a"],VToolbar:Mt["a"],VToolbarItems:At["a"],VToolbarTitle:At["b"]});var Zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{fullscreen:""},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[n("v-card",{staticClass:"mx-auto pa-4",attrs:{flat:"","max-width":"100%"}},[n("v-card",{staticClass:"mx-auto",attrs:{flat:"","max-width":"50"}},[n("v-text-field",{staticClass:"mx-auto",attrs:{"max-width":"150","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"multi-sort":""},scopedSlots:e._u([{key:"body",fn:function(t){var i=t.items;return[n("tbody",e._l(i,(function(t){return n("tr",{key:t.name},[n("td",[n("v-chip",{attrs:{color:"#888",dark:""}},[e._v(e._s(t.name))])],1),n("td",[n("v-simple-checkbox",{attrs:{color:"#09b",value:t.plannedRouter,ripple:!1}})],1),n("td",[n("v-simple-checkbox",{attrs:{color:"#09b",value:t.plannedSplicingBox,ripple:!1}})],1),n("td",[n("v-simple-checkbox",{attrs:{color:"#09b",value:t.plannedSplitter,ripple:!1}})],1),n("td",[n("v-simple-checkbox",{attrs:{color:"#09b",value:t.plannedOFTU,ripple:!1}})],1),n("td",[n("v-text-field",{attrs:{color:"#090",value:t.installedRouter}})],1),n("td",[n("v-simple-checkbox",{attrs:{color:"#090",value:t.installedSplicingBox,ripple:!1}})],1),n("td",[n("v-simple-checkbox",{attrs:{color:"#090",value:t.installedSplitter,ripple:!1}})],1),n("td",[n("v-text-field",{attrs:{color:"#090",value:t.installedOFTU}})],1),n("td",{staticStyle:{width:"120px"}},[n("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"#090"},on:{click:function(n){return e.editItem(t)}}},[e._v(" mdi-pencil ")]),n("v-icon",{attrs:{small:"",color:"#900"},on:{click:function(n){return e.deleteItem(t)}}},[e._v(" mdi-delete ")])],1)])})),0)]}},{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[e._v(e._s(e.address))]),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-spacer"),n("EditBuildingLevel",{attrs:{opened:e.dialog,index:e.editedIndex,level:e.editedItem},on:{"update:opened":function(t){e.dialog=t},"update:level":function(t){e.editedItem=t}}})],1)]},proxy:!0},{key:"no-data",fn:function(){return[n("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}])})],1),n("v-bottom-navigation",{attrs:{absolute:""},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("v-btn",{attrs:{text:"",value:"save"},on:{click:e.save}},[n("span",[e._v("SAVE")]),n("v-icon",[e._v("mdi-content-save")])],1),n("Button",{attrs:{clicked:e.hide,text:"CLOSE",color:"#333"},on:{"update:clicked":function(t){e.hide=t}}})],1)],1)},Wt=[],Xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({staticClass:"mb-2",attrs:{color:"#333",text:""}},i),[e._v(" Add level ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Level"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-checkbox",{attrs:{label:"Level Router is planned",color:"#09b"},model:{value:e.plannedRouter,callback:function(t){e.plannedRouter=t},expression:"plannedRouter"}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{label:"Router installed"},model:{value:e.installedRouter,callback:function(t){e.installedRouter=t},expression:"installedRouter"}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-checkbox",{attrs:{label:"Splicing Box is planned",color:"#09b"},model:{value:e.plannedSplicingBox,callback:function(t){e.plannedSplicingBox=t},expression:"plannedSplicingBox"}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-checkbox",{attrs:{label:"Splicing Box installed",color:"#090"},model:{value:e.installedSplicingBox,callback:function(t){e.installedSplicingBox=t},expression:"installedSplicingBox"}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-checkbox",{attrs:{label:"Splitter is planned",color:"#09b"},model:{value:e.plannedSplitter,callback:function(t){e.plannedSplitter=t},expression:"plannedSplitter"}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-checkbox",{attrs:{label:"Splitter installed",color:"#090"},model:{value:e.installedSplitter,callback:function(t){e.installedSplitter=t},expression:"installedSplitter"}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-checkbox",{attrs:{label:"OFTU is planned",color:"#09b"},model:{value:e.plannedOFTU,callback:function(t){e.plannedOFTU=t},expression:"plannedOFTU"}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{label:"OFTU installed (serial number)"},model:{value:e.installedOFTU,callback:function(t){e.installedOFTU=t},expression:"installedOFTU"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"#333",text:""},on:{click:function(t){return e.$emit("update:opened",!1)}}},[e._v(" Close ")])],1)],1)],1)},Yt=[],en={name:"EditBuildingLevel",props:["opened","level"],computed:{dialog:{get:function(){return this.opened},set:function(e){this.$emit("update:opened",e)}},name:{get:function(){return this.level.name},set:function(e){this.$emit("update:level",Object.assign(this.level,{name:e}))}},plannedRouter:{get:function(){return this.level.plannedRouter},set:function(e){this.$emit("update:level",Object.assign(this.level,{plannedRouter:e}))}},installedRouter:{get:function(){return this.level.installedRouter},set:function(e){this.$emit("update:level",Object.assign(this.level,{installedRouter:e}))}},plannedSplicingBox:{get:function(){return this.level.plannedSplicingBox},set:function(e){this.$emit("update:level",Object.assign(this.level,{plannedSplicingBox:e}))}},installedSplicingBox:{get:function(){return this.level.installedSplicingBox},set:function(e){this.$emit("update:level",Object.assign(this.level,{installedSplicingBox:e}))}},plannedSplitter:{get:function(){return this.level.plannedSplitter},set:function(e){this.$emit("update:level",Object.assign(this.level,{plannedSplitter:e}))}},installedSplitter:{get:function(){return this.level.installedSplitter},set:function(e){this.$emit("update:level",Object.assign(this.level,{installedSplitter:e}))}},plannedOFTU:{get:function(){return this.level.plannedOFTU},set:function(e){this.$emit("update:level",Object.assign(this.level,{plannedOFTU:e}))}},installedOFTU:{get:function(){return this.level.installedOFTU},set:function(e){this.$emit("update:level",Object.assign(this.level,{installedOFTU:e}))}}},methods:{}},tn=en,nn=Object(C["a"])(tn,Xt,Yt,!1,null,null,null),an=nn.exports;O()(nn,{VBtn:S["a"],VCard:D["a"],VCardActions:M["a"],VCardText:M["b"],VCheckbox:Be["a"],VCol:xe["a"],VContainer:Pe["a"],VDialog:A["a"],VRow:Ie["a"],VSpacer:xt["a"],VTextField:me["a"]});var sn={name:"BuildingLevels",components:{EditBuildingLevel:an},props:["opened","address","levels"],data:function(){return{search:"",dialog:!1,hide:!1,save:!1,value:"save",items:[],headers:[{text:"Levels",align:"start",value:"name"},{text:"Planned Routers",value:"plannedRouter"},{text:"Planned Splicing Boxes",value:"plannedSplicingBox"},{text:"Planned Splitters",value:"plannedSplitter"},{text:"Planned OFTU",value:"plannedOFTU"},{text:"Installed Routers",value:"installedRouter"},{text:"Installed Splicing Boxes",value:"installedSplicingBox"},{text:"Installed Splitters",value:"installedSplitter"},{text:"Installed OFTU",value:"installedOFTU"},{text:"Actions",value:"actions",sortable:!1}],editedIndex:-1,editedItem:{name:"",plannedRouter:!1,plannedSplicingBox:!1,plannedSplitter:!1,plannedOFTU:!1,installedRouter:"",installedSplicingBox:!1,installedSplitter:!1,installedOFTU:""},defaultItem:{name:"",plannedRouter:!1,plannedSplicingBox:!1,plannedSplitter:!1,plannedOFTU:!1,installedRouter:"",installedSplicingBox:!1,installedSplitter:!1,installedOFTU:""}}},watch:{dialog:function(e){e||this.close()},hide:function(e){e&&this.$emit("update:opened",!1),this.hide=!1},save:function(e){e&&(this.saveBuildingData(),this.save=!1)},levels:{deep:!0,handler:function(e){console.log("LEVELS:\n",e),e&&(this.items=e.map((function(e){return{name:e.name||"",plannedRouter:!!e.planned&&e.planned.router,plannedSplicingBox:!!e.planned&&e.planned.splicingBox,plannedSplitter:!!e.planned&&e.planned.splitter,plannedOFTU:!!e.planned&&e.planned.oftu,installedRouter:e.installed?e.installed.router:"",installedSplicingBox:!!e.installed&&e.installed.splicingBox,installedSplitter:!!e.installed&&e.installed.splitter,installedOFTU:e.installed?e.installed.oftu:""}})),console.log(this.items))}},items:{deep:!0,handler:function(e){if(console.log("ITEMS:\n",e),e){var t=e.map((function(e){return{name:e.name,planned:{router:e.plannedRouter,splicingBox:e.plannedSplicingBox,splitter:e.plannedSplitter,oftu:e.plannedOFTU},installed:{router:e.installedRouter,splicingBox:e.installedSplicingBox,splitter:e.installedSplitter,oftu:e.installedOFTU}}}));console.log(t),this.$emit("update:levels",t)}}},editedItem:{deep:!0,handler:function(e){console.log("INDEX: ",this.editedIndex),console.log("VALUE:\n",e)}}},methods:{editItem:function(e){this.editedIndex=this.items.indexOf(e),this.editedItem=Object.assign({},e),console.log(this.editedItem),this.dialog=!0},deleteItem:function(e){var t=this.items.indexOf(e);this.items.splice(t,1)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},saveLevelData:function(){this.editedIndex>-1?Object.assign(this.items[this.editedIndex],this.editedItem):this.items.push(this.editedItem),console.log(this.levels),this.close()},saveBuildingData:function(){var e=localStorage.getItemByName("selectedBuilding");localStorage.setItemByName("selectedBuilding",Object.assign(e,{levels:this.levels})),this._saveBuilding()}}},rn=sn,on=n("cc20"),ln=n("ce7e"),dn=n("9e88"),cn=Object(C["a"])(rn,Zt,Wt,!1,null,null,null),un=cn.exports;O()(cn,{VBottomNavigation:$["a"],VBtn:S["a"],VCard:D["a"],VChip:on["a"],VDataTable:Dt["a"],VDialog:A["a"],VDivider:ln["a"],VIcon:wt["a"],VSimpleCheckbox:dn["a"],VSpacer:xt["a"],VTextField:me["a"],VToolbar:Mt["a"],VToolbarTitle:At["b"]});var pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:e.visibility,callback:function(t){e.visibility=t},expression:"visibility"}},[n("v-card",{staticClass:"pa-2",attrs:{flat:""}},[n("v-card-text",[n("v-icon",{attrs:{large:"",color:"error"}},[e._v("mdi-trash-can")]),n("h4",[e._v(e._s(e.message))])],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"#09b",text:""},on:{click:function(t){return e.$emit("update:visibility",!1)}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"#900",text:""},on:{click:e.confirm}},[e._v("Delete")])],1)],1)],1)],1)},mn=[],fn={name:"ConfirmDelete",props:{visibility:Boolean,message:{type:String,default:"Are you sure you want to perform the delete operation?"},response:{type:Boolean,default:!1}},methods:{confirm:function(){this.$emit("update:response",!0),this.$emit("update:visibility",!1)}}},hn=fn,vn=Object(C["a"])(hn,pn,mn,!1,null,null,null),gn=vn.exports;O()(vn,{VBtn:S["a"],VCard:D["a"],VCardActions:M["a"],VCardText:M["b"],VDialog:A["a"],VDivider:ln["a"],VIcon:wt["a"],VRow:Ie["a"],VSpacer:xt["a"]});var bn={name:"App",components:{Buildings:mt,ListOfBuildings:Rt,SiteSurvey:zt,BuildingLevels:un,ConfirmDelete:gn},data:function(){return{ready:!1,address:"",buildingLevels:null,value:"home",selectedBuilding:!1,selectedBuildingId:null,confirmDeleteVisibility:!1,removingConfirmed:!1}},computed:{infrastructure:{get:function(){return"infrastructure"===this.value},set:function(e){this.value=e?"infrastructure":"home"}},levels:function(){return"levels"===this.value}},watch:{levels:function(e){if(this.selectedBuilding){var t=localStorage.getItemByName("selectedBuilding");this.address=t.address,this.buildingLevels=t.levels}},removingConfirmed:function(e){e&&(this._deleteBuilding(),this.$root.$map.removeMarker(),this.$emit("reset-selected-marker"),this.removingConfirmed=!1)}},methods:{},beforeMount:function(){var e=this;this._getBuildingsList().then((function(){e.ready=!0,window.dispatchEvent(new Event("data-ready"))}))},mounted:function(){}},yn=bn,xn=n("7496"),kn=n("40dc"),In=n("f6c4"),Cn=n("3a2f"),_n=Object(C["a"])(yn,a,s,!1,null,null,null),On=_n.exports;O()(_n,{VApp:xn["a"],VAppBar:kn["a"],VBottomNavigation:$["a"],VBtn:S["a"],VIcon:wt["a"],VMain:In["a"],VSpacer:xt["a"],VToolbarTitle:At["b"],VTooltip:Cn["a"]});var Sn=n("f309");i["a"].use(Sn["a"]);var wn=new Sn["a"]({});n("2681");i["a"].config.productionTip=!1;var Bn=n("bb70").default,Pn=Bn.types,Tn=Bn.colors,$n=Bn.icons,Dn=Bn.defaultType;[i["a"],Storage].forEach((function(e){return Object.assign(e.prototype,{buildingTypes:Object.assign([],Pn,{default:Dn}),typeColors:Object.assign([],Tn),typeIcons:Object.assign([],$n)})})),i["a"].prototype._getBuildingsList=n("74bc").default,i["a"].prototype._getBuildingDetails=n("1a94").default,i["a"].prototype._createNewBuilding=n("b651").default,i["a"].prototype._saveBuilding=n("f83e").default,i["a"].prototype._deleteBuilding=n("ddb7").default,i["a"].prototype._uploadBuildingDesign=n("3504").default,i["a"].prototype.$role=location.pathname.slice(1),new i["a"]({vuetify:wn,render:function(e){return e(On)}}).$mount("#app")},"5ead":function(e,t,n){},"65a1":function(e,t,n){"use strict";n.r(t),t["default"]={address:"",addressComponents:{number:"",street:"",city:"",state:"",postCode:"",admin:""},footprint:!1,distanceFromFootprint:0,buildingType:"",owner:{name:"",address:"",phone:"",email:"",contactPerson:""},management:{name:"",address:"",phone:"",email:"",contactPerson:""},customerInstallApprovalRequired:!1,inductionRequired:!1,difficultyLevel:{leadInInstallation:3,backboneInstallation:5,customerInstallation:4},infrastructure:{type:"Active",leadIn:{planned:!1,installed:!1},backbone:{planned:!1,installed:!1},customerAccessCabling:{planned:!1,installed:!1},GPOinMDF:{exist:!1,planned:!1,installed:!1},UPSinMDF:{planned:!1,installed:!1},GPOinRisers:{exist:!1,planned:!1,installed:!1},UPSinRisers:{planned:!1,installed:!1}},numberOfLevels:0,numberOfDwellings:0,avgFloorHeight:0,levels:[{name:"1",planned:{router:!1,splicingBox:!1,splitter:!1,oftu:!1},installed:{router:!1,splicingBox:!1,splitter:!1,oftu:!1}}]}},6883:function(e,t,n){},"74bc":function(e,t,n){"use strict";n.r(t);n("a4d3"),n("e01a"),n("4160"),n("c975"),n("d3b7"),n("159b"),n("96cf");var i=n("1da1");t["default"]=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.clear(),localStorage.buildingTypes.forEach((function(e){return localStorage.setItemByName(e,[])})),e.next=4,fetch("https://dgtek-staging.herokuapp.com/building",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"rAxKIAyY9j3Aq0OZ4TnGHCibU9G6oZZP8NaMOlKeJV9U2qjOKu0xOOQwjw3JzKaewN4DmzQ97aEsUh1XyAsQboJqQpbFpgK0JQkt"}});case 4:return e.next=6,e.sent.json();case 6:if(t=e.sent,t.description){e.next=10;break}return console.warn("ERROR readin DB"),e.abrupt("return");case 10:t.description.forEach((function(e,t){var n=-1!==localStorage.buildingTypes.indexOf(e.type)?e.type:localStorage.buildingTypes.default;localStorage.setItemByName(e._id,e),localStorage.addBuildingToCollection(e._id,n)})),localStorage.setItemByName("selectedBuilding",null);case 12:case"end":return e.stop()}}),e)})))},"9c19":function(e,t,n){"use strict";var i=n("b1cd"),a=n.n(i);a.a},ab06:function(e,t,n){"use strict";var i=n("5ead"),a=n.n(i);a.a},b1cd:function(e,t,n){},b651:function(e,t,n){"use strict";n.r(t);n("d3b7"),n("96cf");var i=n("1da1");t["default"]=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("POST:\n",t),e.next=3,fetch("https://dgtek-staging.herokuapp.com/building",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"rAxKIAyY9j3Aq0OZ4TnGHCibU9G6oZZP8NaMOlKeJV9U2qjOKu0xOOQwjw3JzKaewN4DmzQ97aEsUh1XyAsQboJqQpbFpgK0JQkt"},body:JSON.stringify(t)});case 3:return e.next=5,e.sent.json();case 5:if(n=e.sent,!n.error){e.next=9;break}return console.warn(n.error),e.abrupt("return",null);case 9:return console.log("RESPONSE: ",n.data),localStorage.addNewBuilding(n.data,Object.assign(t,{_id:n.data})),e.abrupt("return",n.data);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},bb56:function(e,t,n){},bb70:function(e,t,n){"use strict";n.r(t),t["default"]={types:["LIT","Footprint","ComingSoon","Other"],colors:["#090","#09b","aa0"],icons:["mdi-home-map-marker","mdi-home-circle","mdi-home-circle-outline","mdi-home"],defaultType:"Other"}},ddb7:function(e,t,n){"use strict";n.r(t);n("99af"),n("d3b7"),n("96cf");var i=n("1da1");t["default"]=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=5;break}if(n=localStorage.getItemByName("selectedBuilding"),n||n._id){e.next=4;break}throw new Error("Invalid building");case 4:t=n._id;case 5:return console.log(t),e.next=8,fetch("".concat("https://dgtek-staging.herokuapp.com/building","/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"rAxKIAyY9j3Aq0OZ4TnGHCibU9G6oZZP8NaMOlKeJV9U2qjOKu0xOOQwjw3JzKaewN4DmzQ97aEsUh1XyAsQboJqQpbFpgK0JQkt"}});case 8:return e.next=10,e.sent.json();case 10:if(i=e.sent,console.log("DELETE CURRENT BUILDING:\n",i),!i.error){e.next=15;break}throw console.warn(i),new Error("Removing building ".concat(t," failed"));case 15:return localStorage.removeBuilding(t),e.abrupt("return",i.data);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f83e:function(e,t,n){"use strict";n.r(t);n("99af"),n("d3b7"),n("96cf");var i=n("1da1");t["default"]=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=localStorage.getItemByName("selectedBuilding"),e.next=3,fetch("".concat("https://dgtek-staging.herokuapp.com/building","/").concat(t._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"rAxKIAyY9j3Aq0OZ4TnGHCibU9G6oZZP8NaMOlKeJV9U2qjOKu0xOOQwjw3JzKaewN4DmzQ97aEsUh1XyAsQboJqQpbFpgK0JQkt"},body:JSON.stringify(t)});case 3:return e.next=5,e.sent.json();case 5:if(n=e.sent,console.log("SAVE CURRENT BUILDING DATA:\n",n),!n.error){e.next=10;break}return console.warn(n.error),e.abrupt("return",null);case 10:return localStorage.setBuilingsListItem(t._id,t),e.abrupt("return",n.data);case 12:case"end":return e.stop()}}),e)})))},ff54:function(e,t,n){"use strict";var i=n("25f03"),a=n.n(i);a.a}});
//# sourceMappingURL=app.217855ef.js.map